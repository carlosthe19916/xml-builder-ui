(this["webpackJsonpxml-builder-ui"]=this["webpackJsonpxml-builder-ui"]||[]).push([[0],{361:function(e,t,n){e.exports=n.p+"static/media/logo-navbar.f314a279.svg"},362:function(e,t,n){e.exports=n.p+"static/media/logo.9b4f3b1c.png"},374:function(e,t,n){e.exports=n(601)},379:function(e,t,n){},597:function(e,t,n){},598:function(e,t,n){},599:function(e,t,n){},601:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchOrganizationsRequest",(function(){return ze})),n.d(a,"fetchOrganizationsSuccess",(function(){return Ie})),n.d(a,"fetchOrganizationsFailure",(function(){return je})),n.d(a,"selectOrganizationContext",(function(){return Re})),n.d(a,"fetchOrganizations",(function(){return Se}));var r={};n.r(r),n.d(r,"organizationsState",(function(){return Pe})),n.d(r,"organizations",(function(){return we})),n.d(r,"status",(function(){return ke})),n.d(r,"error",(function(){return qe})),n.d(r,"selectedOrganization",(function(){return xe}));var o={};n.r(o),n.d(o,"fetchOrganizationKeysRequest",(function(){return tt})),n.d(o,"fetchOrganizationKeysSuccess",(function(){return nt})),n.d(o,"fetchOrganizationKeysFailure",(function(){return at})),n.d(o,"fetchOrganizationKeys",(function(){return rt}));var i={};n.r(i),n.d(i,"organizationKeysState",(function(){return lt})),n.d(i,"selectOrganizationKeys",(function(){return st})),n.d(i,"selectOrganizationKeysFetchStatus",(function(){return ut})),n.d(i,"selectOrganizationKeysError",(function(){return mt}));var c={};n.r(c),n.d(c,"fetchOrganizationComponentsRequest",(function(){return dt})),n.d(c,"fetchOrganizationComponentsSuccess",(function(){return pt})),n.d(c,"fetchOrganizationComponentsFailure",(function(){return ft})),n.d(c,"fetchOrganizationComponents",(function(){return gt}));var l={};n.r(l),n.d(l,"organizationComponentsState",(function(){return Et})),n.d(l,"selectOrganizationComponents",(function(){return vt})),n.d(l,"selectOrganizationComponentsFetchStatus",(function(){return yt})),n.d(l,"selectOrganizationComponentsError",(function(){return Ct}));var s={};n.r(s),n.d(s,"fetchServerInfoRequest",(function(){return Pt})),n.d(s,"fetchServerInfoSuccess",(function(){return wt})),n.d(s,"fetchServerInfoFailure",(function(){return kt})),n.d(s,"fetchServerInfo",(function(){return qt}));var u={};n.r(u),n.d(u,"serverInfoState",(function(){return Vt})),n.d(u,"selectServerInfo",(function(){return Lt})),n.d(u,"selectServerInfoFetchStatus",(function(){return _t})),n.d(u,"selectServerInfoError",(function(){return Ut}));var m={};n.r(m),n.d(m,"openModal",(function(){return Kt})),n.d(m,"closeModal",(function(){return Bt})),n.d(m,"processing",(function(){return Gt})),n.d(m,"error",(function(){return Xt}));var d={};n.r(d),n.d(d,"deleteDialogState",(function(){return Yt})),n.d(d,"isProcessing",(function(){return $t})),n.d(d,"isOpen",(function(){return Qt})),n.d(d,"isError",(function(){return Zt})),n.d(d,"name",(function(){return en})),n.d(d,"type",(function(){return tn})),n.d(d,"onDelete",(function(){return nn}));var p={};n.r(p),n.d(p,"fetchComponentRequest",(function(){return an})),n.d(p,"fetchComponentSuccess",(function(){return rn})),n.d(p,"fetchComponentFailure",(function(){return on})),n.d(p,"createComponentRequest",(function(){return cn})),n.d(p,"createComponentSuccess",(function(){return ln})),n.d(p,"createComponentFailure",(function(){return sn})),n.d(p,"updateComponentRequest",(function(){return un})),n.d(p,"updateComponentSuccess",(function(){return mn})),n.d(p,"updateComponentFailure",(function(){return dn})),n.d(p,"deleteComponentRequest",(function(){return pn})),n.d(p,"deleteComponentSuccess",(function(){return fn})),n.d(p,"deleteComponentFailure",(function(){return gn})),n.d(p,"fetchComponent",(function(){return hn})),n.d(p,"requestCreateComponent",(function(){return bn})),n.d(p,"requestUpdateComponent",(function(){return On})),n.d(p,"requestDeleteComponent",(function(){return En}));var f={};n.r(f),n.d(f,"organizationComponentsState",(function(){return zn})),n.d(f,"selectComponent",(function(){return In})),n.d(f,"selectComponentFetchStatus",(function(){return jn})),n.d(f,"selectComponentError",(function(){return Rn}));var g={};n.r(g),n.d(g,"fetchOrganizationListRequest",(function(){return ba})),n.d(g,"fetchOrganizationListSuccess",(function(){return Oa})),n.d(g,"fetchOrganizationListFailure",(function(){return Ea})),n.d(g,"fetchOrganizations",(function(){return va}));var h={};n.r(h),n.d(h,"organizationState",(function(){return Ia})),n.d(h,"organizations",(function(){return ja})),n.d(h,"status",(function(){return Ra})),n.d(h,"error",(function(){return Sa}));var b={};n.r(b),n.d(b,"fetchOrganizationRequest",(function(){return Da})),n.d(b,"fetchOrganizationSuccess",(function(){return Aa})),n.d(b,"fetchOrganizationFailure",(function(){return Ta})),n.d(b,"createOrganizationRequest",(function(){return Na})),n.d(b,"createOrganizationSuccess",(function(){return Pa})),n.d(b,"createOrganizationFailure",(function(){return wa})),n.d(b,"updateOrganizationRequest",(function(){return ka})),n.d(b,"updateOrganizationSuccess",(function(){return qa})),n.d(b,"updateOrganizationFailure",(function(){return xa})),n.d(b,"deleteOrganizationRequest",(function(){return Fa})),n.d(b,"deleteOrganizationSuccess",(function(){return Ma})),n.d(b,"deleteOrganizationFailure",(function(){return Va})),n.d(b,"fetchOrganizationIdByNameRequest",(function(){return La})),n.d(b,"fetchOrganizationIdByNameSuccess",(function(){return _a})),n.d(b,"fetchOrganizationIdByNameFailure",(function(){return Ua})),n.d(b,"fetchOrganization",(function(){return Ka})),n.d(b,"requestCreateOrganization",(function(){return Ba})),n.d(b,"requestUpdateOrganization",(function(){return Ga})),n.d(b,"deleteOrganization",(function(){return Xa})),n.d(b,"fetchOrganizationIdByName",(function(){return Ha}));var O={};n.r(O),n.d(O,"organizationState",(function(){return $a})),n.d(O,"selectOrganization",(function(){return Qa})),n.d(O,"selectOrganizationFetchStatus",(function(){return Za})),n.d(O,"selectOrganizationError",(function(){return er}));var E={};n.r(E),n.d(E,"createEnrichDocumentRequest",(function(){return yr})),n.d(E,"createEnrichDocumentSuccess",(function(){return Cr})),n.d(E,"createEnrichDocumentFailure",(function(){return zr})),n.d(E,"createDocumentRequest",(function(){return Ir})),n.d(E,"createDocumentSuccess",(function(){return jr})),n.d(E,"createDocumentFailure",(function(){return Rr})),n.d(E,"requestEnrichDocument",(function(){return Sr})),n.d(E,"requestCreateDocument",(function(){return Dr}));var v={};n.r(v),n.d(v,"createEnrichOrganizationDocumentRequest",(function(){return no})),n.d(v,"createEnrichOrganizationDocumentSuccess",(function(){return ao})),n.d(v,"createEnrichOrganizationDocumentFailure",(function(){return ro})),n.d(v,"createOrganizationDocumentRequest",(function(){return oo})),n.d(v,"createOrganizationDocumentSuccess",(function(){return io})),n.d(v,"createOrganizationDocumentFailure",(function(){return co})),n.d(v,"requestEnrichOrganizationDocument",(function(){return lo})),n.d(v,"requestCreateOrganizationDocument",(function(){return so}));var y=n(1),C=n.n(y),z=n(40),I=n.n(z),j=(n(379),n(32)),R=n(121),S=n(87),D=n(243),A=n(244),T=n(245),N=n(246),P=n(162),w=n(176),k=function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,null,C.a.createElement(A.a,null,C.a.createElement(T.a,{variant:T.b.full},C.a.createElement(N.a,{icon:w.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"Error 403 Forbidden! The web page (or other resource) that you're trying to open in your web browser is a resource that you're not allowed to access.")))))},q=function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,null,C.a.createElement(A.a,null,C.a.createElement(T.a,{variant:T.b.full},C.a.createElement(N.a,{icon:w.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"Error 404 Page not found!")))))},x=function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,null,C.a.createElement(A.a,null,C.a.createElement(T.a,{variant:T.b.full},C.a.createElement(N.a,{icon:w.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"Error 503 Service Unavailable! Server is temporarily unable to handle the request. This may be due to the server being overloaded or down for maintenance.")))))},F=n(247),M=n(248),V=n(249),L=n(250),_=n(251),U=n(252),K=n(253),B=n(254),G=n(255),X=n(130),H=n(177),J=n(178),W=n(179),Y=n(180),$=n(181),Q=n(182),Z=function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,{variant:D.c.light},C.a.createElement(F.a,null,C.a.createElement(M.a,{component:"h1"},"\xa1Bienvenido a XML Builder!"))),C.a.createElement(D.a,null,C.a.createElement(V.a,{lg:4,gutter:"md"},C.a.createElement(L.a,null,C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(T.a,{variant:T.b.full},C.a.createElement(N.a,{icon:H.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"Consola de administraci\xf3n"),C.a.createElement(K.a,null,"Administra el servidor"),C.a.createElement(j.b,{to:"/organizations/list",className:"pf-c-button pf-m-primary"},"Administrar"))))),C.a.createElement(L.a,null,C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(T.a,{variant:T.b.full},C.a.createElement(N.a,{icon:J.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"Documentaci\xf3n"),C.a.createElement(K.a,null,"Guia de usuario"),C.a.createElement("a",{href:"https://project-openubl.gitbook.io/xml-builder/",className:"pf-c-button pf-m-primary"},"Documentaci\xf3n"))))),C.a.createElement(L.a,null,C.a.createElement(B.a,{gutter:"md"},C.a.createElement(G.a,null,C.a.createElement(_.a,{style:{minHeight:93}},C.a.createElement(U.a,null,C.a.createElement("a",{href:"https://project-openubl.github.io/"},C.a.createElement(X.a,{variant:"link",icon:C.a.createElement(W.b,null)},"Project OpenUBL ",C.a.createElement(Y.b,null)))))),C.a.createElement(G.a,null,C.a.createElement(_.a,{style:{minHeight:93}},C.a.createElement(U.a,null,C.a.createElement("a",{href:"mailto:projectopenubl+subscribe@googlegroups.com"},C.a.createElement(X.a,{variant:"link",icon:C.a.createElement($.b,null)},"Mailing List ",C.a.createElement(Y.b,null)))))),C.a.createElement(G.a,null,C.a.createElement(_.a,{style:{minHeight:93}},C.a.createElement(U.a,null,C.a.createElement("a",{href:"https://github.com/project-openubl/xml-builder/issues"},C.a.createElement(X.a,{variant:"link",icon:C.a.createElement(Q.b,null)},"Reporta un problema ",C.a.createElement(Y.b,null)))))))))))},ee=n(23),te=n(5),ne=n(6),ae=n(9),re=n(7),oe=n(8),ie=n(171),ce=n(616),le=n(615),se=n(144),ue=n(297),me=n(347),de=n(278),pe=n(351),fe=n(288);function ge(e){return e}var he=n(11),be=n(164),Oe=n.n(be),Ee=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,null,[{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Oe.a.request(Object.assign({},{url:e,method:n,data:t},a))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,t,"post",n)}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,t,"put",n)}},{key:"get",value:function(e){return this.request(e)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,null,"delete",t)}}]),e}(),ve=n(183).addNotification,ye=function(e){return function(t){t(ve(e))}},Ce=function(e){var t="";return e.response&&e.response.data&&("string"===typeof e.response.data?t=e.response.data:e.response.data.error&&(t=e.response.data.error)),function(n){n(ve({variant:"danger",title:e.message,description:t,dismissable:!0}))}},ze=Object(he.createAction)("organizationContext/organizations/fetch/request")(),Ie=Object(he.createAction)("organizationContext/organizations/fetch/success")(),je=Object(he.createAction)("organizationContext/organizations/fetch/failure")(),Re=Object(he.createAction)("organizationContext/organizations/select")(),Se=function(){return function(e){return e(ze()),Ee.get("/organizations/all").then((function(t){e(Ie(t.data))})).catch((function(t){e(je(t)),Ce(t)(e)}))}},De=n(12);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne={selected:null,organizations:null,error:null,status:"none"};var Pe=function(e){return e.organizationContext},we=function(e){var t=Pe(e).organizations;return t||[]},ke=function(e){return Pe(e).status},qe=function(e){return Pe(e).error},xe=function(e){return Pe(e).selected},Fe=n(350),Me=n(273),Ve=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).onToggle=function(e){n.setState({isOpen:!n.state.isOpen})},n.onSelect=function(e,t){var a=n.props,r=a.organizations,o=a.onSelect,i=r.find((function(e){return e.name===t}));i&&n.setState({isOpen:!n.state.isOpen},(function(){o(i)}))},n.onSearchInputChange=function(e){n.setState({searchValue:e})},n.onSearchButtonClick=function(e){var t=""===n.state.searchValue.trim()?n.props.organizations:n.props.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n.state.searchValue.toLowerCase())}));n.setState({filteredItems:t||[]})},n.state={isOpen:!1,searchValue:"",filteredItems:e.organizations},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.selectedOrganization,t=this.state,n=t.isOpen,a=t.searchValue,r=t.filteredItems;return C.a.createElement(Fe.a,{toggleText:e?e.name:"",onSearchInputChange:this.onSearchInputChange,isOpen:n,searchInputValue:a,onToggle:this.onToggle,onSelect:this.onSelect,onSearchButtonClick:this.onSearchButtonClick,screenReaderLabel:"Selected organization:"},r.map((function(e,t){return C.a.createElement(Me.a,{key:t},e.name)})))}}]),t}(C.a.Component),Le=ge((function(e){return{selectedOrganization:r.selectedOrganization(e)||null,organizations:r.organizations(e)||[],error:r.error(e),status:r.status(e)}})),_e=Object(S.g)(Object(ee.connect)(Le,{})(Ve)),Ue=function(e){var t=e.match,n=e.history,a=e.activeKey,r=e.children;return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,{variant:D.c.light},C.a.createElement("div",{style:{marginBottom:20}},C.a.createElement("div",{className:"pf-c-form pf-m-horizontal"},C.a.createElement(de.a,{label:"Organizaci\xf3n",fieldId:"organizacion"},C.a.createElement(_e,{onSelect:function(e){n.push("/organizations/manage/".concat(e.id,"/keys"))}})))),C.a.createElement(F.a,null,C.a.createElement(M.a,{component:"h1"},"Certificados digitales"),C.a.createElement(M.a,{component:"small"},"Ac\xe1 podr\xe1s configurar los certificados de seguridad que el software usar\xe1 para firmar los comprobantes de pago electr\xf3nicos.")),C.a.createElement("br",null),C.a.createElement(pe.a,{isFilled:!0,activeKey:a,onSelect:function(e,a){var r=t.params.organizationId,o="/organizations/manage/".concat(r);0===a?n.push(o+"/keys"):1===a?n.push(o+"/keys/list"):2===a&&n.push(o+"/keys/providers")}},C.a.createElement(fe.a,{eventKey:0,title:"Certificados activos"}),C.a.createElement(fe.a,{eventKey:1,title:"Todos los certificados"}),C.a.createElement(fe.a,{eventKey:2,title:"Proveeedores de certificados"}))),C.a.createElement(D.a,null,r))},Ke=Object(S.g)(Ue),Be=n(47),Ge=n(281),Xe=function(e){var t=e.title,n=e.buttonLabel,a=e.keyValue,r=Object(y.useState)(!1),o=Object(Be.a)(r,2),i=o[0],c=o[1],l=function(){c(!i)};return C.a.createElement(C.a.Fragment,null,C.a.createElement(X.a,{variant:"link",icon:C.a.createElement(H.b,null),onClick:l},n),C.a.createElement(Ge.a,{isSmall:!0,title:t,isOpen:i,onClose:l,actions:[C.a.createElement(X.a,{key:"cancel",variant:"link",onClick:l},"Close")],isFooterLeftAligned:!0},C.a.createElement(M.a,{component:M.b.blockquote},a)))},He=n(17),Je=n(614),We=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).createColumns=function(){var e=n.props.colSize;return Object(He.a)(Array(e)).map((function(){return{title:C.a.createElement(Je.a,null)}}))},n.createRows=function(){var e=n.props,t=e.colSize,a=e.rowSize,r=e.columns,o=r?r.length:t;return Object(He.a)(Array(a)).map((function(){return{cells:Object(He.a)(Array(o)).map((function(){return{title:C.a.createElement(Je.a,null)}}))}}))},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return C.a.createElement(ie.a,{cells:this.props.columns||this.createColumns(),rows:this.createRows(),"aria-label":"Loading"},C.a.createElement(ce.a,null),C.a.createElement(le.a,null))}}]),t}(C.a.Component),Ye=n(276),$e=function(e){function t(){return Object(te.a)(this,t),Object(ae.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{cells:this.props.columns,rows:[],"aria-label":"Error table"},C.a.createElement(ce.a,null),C.a.createElement(le.a,null)),C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(A.a,null,C.a.createElement(T.a,null,C.a.createElement(N.a,{icon:w.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"An error occured while fetching data!"),C.a.createElement(K.a,null,"Try again or reload the page."),C.a.createElement(Ye.a,null,C.a.createElement(X.a,{variant:"link",onClick:this.props.retry},"Try again")))))))}}]),t}(C.a.Component),Qe=n(194),Ze=function(e){function t(){return Object(te.a)(this,t),Object(ae.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{cells:this.props.columns,rows:[],"aria-label":"Empty table"},C.a.createElement(ce.a,null),C.a.createElement(le.a,null)),C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(A.a,null,C.a.createElement(T.a,null,C.a.createElement(N.a,{icon:Qe.b}),C.a.createElement(P.a,{headingLevel:"h5",size:"lg"},"No results found"),C.a.createElement(K.a,null,"No results match this filter criteria. Remove all filters or clear all filters to show results."),C.a.createElement(Ye.a,null,this.props.onClearAllFilters&&C.a.createElement(X.a,{variant:"link",onClick:this.props.onClearAllFilters},"Clear all filters")))))))}}]),t}(C.a.Component),et=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).loadKeysAndComponents=function(){var e=n.props,t=e.fetchOrganizationKeys,a=e.fetchOrganizationComponents;n.setState({activeMap:new Map},(function(){t(n.getOrganizationId()),a(n.getOrganizationId())}))},n.getOrganizationId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.match;return e.params.organizationId},n.processKeysAndComponents=function(){var e=n.props,t=e.organizationKeys,a=e.organizationComponents;if(t&&a){for(var r={},o=0;o<t.keys.length;o++)for(var i=0;i<a.length;i++){var c=t.keys[o],l=a[i];c.providerId===l.id&&(c.provider=a[i])}for(var s in t.active)if(t.active[s])for(var u=0;u<t.keys.length;u++)t.active[s]===t.keys[u].kid&&(r[s]=t.keys[u]);var m=new Map;for(var d in r)r[d]&&m.set(d,r[d]);n.setState({activeMap:m},(function(){n.filtersInRowsAndCells()}))}},n.filtersInRowsAndCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.activeMap,t=[],a=-1;e.forEach((function(e){a++,t.push({isOpen:!1,cells:[{title:e.type},{title:e.kid},{title:e.provider?C.a.createElement("span",null,e.provider.name):C.a.createElement("small",null,"No provider identified")},{title:C.a.createElement(Xe,{buttonLabel:"Ver",title:"Llave p\xfablica",keyValue:e.publicKey})},{title:C.a.createElement(Xe,{buttonLabel:"Ver",title:"Certificado",keyValue:e.certificate})}]},{parent:2*a,fullWidth:!1,cells:[{title:C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{className:"pf-c-content"},C.a.createElement("dl",null,C.a.createElement("dt",null,"Llave p\xfablica"),C.a.createElement("dd",null,C.a.createElement(me.a,null,e.publicKey)),C.a.createElement("dt",null,"Certificado"),C.a.createElement("dd",null,C.a.createElement(me.a,null,e.certificate)))))}]})})),n.setState({rows:t})},n.handleOnTableCollapse=function(e,t,a){var r=n.state.rows;r[t].isOpen=a,n.setState({rows:r})},n.renderTable=function(){var e=n.state,t=e.columns,a=e.rows,r=n.props,o=r.organizationKeysError,i=r.organizationComponentsError,c=r.organizationKeysFetchStatus,l=r.organizationComponentsFetchStatus;if("complete"!==c||"complete"!==l)return C.a.createElement(We,{columns:t,rowSize:5});if(o||i){return C.a.createElement($e,{columns:t,retry:function(){n.loadKeysAndComponents()}})}return 0===a.length?C.a.createElement(Ze,{columns:t}):C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{"aria-label":"Keys List Table",cells:t,rows:a,onCollapse:n.handleOnTableCollapse},C.a.createElement(ce.a,null),C.a.createElement(le.a,null)))},n.state={activeMap:new Map,rows:[],columns:[{title:"Tipo",transforms:[],cellFormatters:[se.b]},{title:"Llave",transforms:[]},{title:"Proveedor",transforms:[]},{title:"Llave p\xfablica",transforms:[Object(ue.a)("10")]},{title:"Certificado",transforms:[Object(ue.a)("10")]}]},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.loadKeysAndComponents()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.activeMap,a=this.props,r=a.organizationKeys,o=a.organizationComponents;r&&o&&o.length>0&&0===n.size&&this.processKeysAndComponents();var i=this.getOrganizationId();this.getOrganizationId(e.match)!==i&&this.loadKeysAndComponents()}},{key:"render",value:function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ke,{activeKey:0},this.renderTable()))}}]),t}(C.a.Component),tt=Object(he.createAction)("organizationKeys/fetch/request")(),nt=Object(he.createAction)("organizationKeys/fetch/success")(),at=Object(he.createAction)("organizationKeys/fetch/failure")(),rt=function(e){return function(t){var n={organizationId:e};return t(tt(n)),function(e){return Ee.get("/organizations/{organizationId}/keys".replace("{organizationId}",e))}(e).then((function(e){var a=e.data;return t(nt(a,n)),a})).catch((function(e){t(at(e,n)),Ce(e)(t)}))}};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct={byOrganizationId:new Map,errors:new Map,fetchStatus:new Map};var lt=function(e){return e.organizationKeys},st=function(e,t){return lt(e).byOrganizationId.get(t)},ut=function(e,t){return lt(e).fetchStatus.get(t)},mt=function(e,t){return lt(e).errors.get(t)},dt=Object(he.createAction)("organizationComponents/fetch/request")(),pt=Object(he.createAction)("organizationComponents/fetch/success")(),ft=Object(he.createAction)("organizationComponents/fetch/failure")(),gt=function(e){return function(t){var n={organizationId:e};return t(dt(n)),function(e){return Ee.get("/organizations/{organizationId}/components".replace("{organizationId}",e))}(e).then((function(e){t(pt(e.data,n))})).catch((function(e){t(ft(e,n)),Ce(e)(t)}))}};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot={byOrganizationId:new Map,errors:new Map,fetchStatus:new Map};var Et=function(e){return e.organizationComponents},vt=function(e,t){return Et(e).byOrganizationId.get(t)||[]},yt=function(e,t){return Et(e).fetchStatus.get(t)},Ct=function(e,t){return Et(e).errors.get(t)},zt=ge((function(e,t){var n=t.match.params.organizationId;return{organizationKeys:i.selectOrganizationKeys(e,n),organizationKeysFetchStatus:i.selectOrganizationKeysFetchStatus(e,n),organizationKeysError:i.selectOrganizationKeysError(e,n),organizationComponents:l.selectOrganizationComponents(e,n),organizationComponentsFetchStatus:l.selectOrganizationComponentsFetchStatus(e,n),organizationComponentsError:l.selectOrganizationComponentsError(e,n)}})),It={fetchOrganizationKeys:o.fetchOrganizationKeys,fetchOrganizationComponents:c.fetchOrganizationComponents},jt=Object(ee.connect)(zt,It)(et),Rt=n(271),St=n(293),Dt=n(295),At=n(294),Tt=n(205),Nt=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).loadSystemInfoAndComponents=function(){var e=n.props,t=e.fetchServerInfo,a=e.fetchOrganizationComponents;t(),a(n.getOrganizationId())},n.getOrganizationId=function(){return n.props.match.params.organizationId},n.filtersInRowsAndCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.organizationComponents,t=e.map((function(e){return{cells:[{title:e.name},{title:C.a.createElement(j.b,{key:e.id,to:n.getComponentEditUrl(e)},e.id)},{title:e.providerId},{title:e.config.priority[0]}]}}));n.setState({rows:t})},n.getComponentEditUrl=function(e){var t=n.props.match;return"".concat(t.url,"/").concat(e.providerId,"/").concat(e.id)},n.handleEditar=function(e){n.props.history.push(n.getComponentEditUrl(e))},n.handleDelete=function(e){var t=n.props,a=t.showDeleteDialog,r=t.closeDeleteDialog,o=t.requestDeleteComponent;a({name:e.name,type:"component",onDelete:function(){o(n.getOrganizationId(),e.id).then((function(){r(),n.loadSystemInfoAndComponents()}))},onCancel:function(){r()}})},n.renderTable=function(){var e=n.state,t=e.columns,a=e.rows,r=e.actions,o=n.props,i=o.serverInfoError,c=o.organizationComponentsError,l=o.serverInfoFetchStatus,s=o.organizationComponentsFetchStatus;if("complete"!==l||"complete"!==s)return C.a.createElement(We,{columns:t,rowSize:5});if(i||c){return C.a.createElement($e,{columns:t,retry:function(){n.loadSystemInfoAndComponents()}})}return 0===a.length?C.a.createElement(Ze,{columns:t}):C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{"aria-label":"Keys List Table",cells:t,rows:a,actions:r},C.a.createElement(ce.a,null),C.a.createElement(le.a,null)))},n.state={rows:[],columns:[{title:"Nombre"},{title:"Kid"},{title:"Proveedor"},{title:"Prioridad"}],actions:[{title:"Editar",onClick:function(e,t){var a=n.props.organizationComponents[t];n.handleEditar(a)}},{title:"Eliminar",onClick:function(e,t){var a=n.props.organizationComponents[t];n.handleDelete(a)}}]},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.loadSystemInfoAndComponents()}},{key:"componentDidUpdate",value:function(e,t){e.organizationComponents!==this.props.organizationComponents&&this.filtersInRowsAndCells()}},{key:"render",value:function(){var e=this.props,t=e.serverInfo,n=e.match;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ke,{activeKey:2},C.a.createElement(_.a,null,C.a.createElement(Rt.a,null,C.a.createElement(St.a,{className:"pf-l-toolbar pf-u-justify-content-space-between pf-u-mx-xl pf-u-my-md"},C.a.createElement(Dt.a,null,C.a.createElement(At.a,{className:"pf-u-mr-xl"})),C.a.createElement(Dt.a,null,t&&C.a.createElement(C.a.Fragment,null,t.componentTypes.keyProviders.sort((function(e,t){return e.id.localeCompare(t.id)})).map((function(e){return C.a.createElement(At.a,{key:e.id,className:"pf-u-mx-md"},C.a.createElement(j.b,{to:"".concat(n.url,"/").concat(e.id)},C.a.createElement(X.a,{variant:"link",icon:C.a.createElement(Tt.b,null)},e.id)))}))))))),this.renderTable()))}}]),t}(C.a.Component),Pt=Object(he.createAction)("serverInfoFetch/request")(),wt=Object(he.createAction)("serverInfoFetch/success")(),kt=Object(he.createAction)("serverInfoFetch/failure")(),qt=function(){return function(e){return e(Pt()),Ee.get("/server-info").then((function(t){e(wt(t.data))})).catch((function(t){e(kt(t)),Ce(t)(e)}))}};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt={serverInfo:void 0,error:void 0,status:"none"};var Vt=function(e){return e.serverInfo},Lt=function(e){return Vt(e).serverInfo},_t=function(e){return Vt(e).status},Ut=function(e){return Vt(e).error},Kt=Object(he.createAction)("dialog/delete/open")(),Bt=Object(he.createAction)("dialog/delete/close")(),Gt=Object(he.createAction)("dialog/delete/processing")(),Xt=Object(he.createAction)("dialog/delete/error")();function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt={isOpen:!1,isProcessing:!1,isError:!1,name:"",type:"",onDelete:function(){}},Yt=function(e){return e.deleteDialog},$t=function(e){return Yt(e).isProcessing},Qt=function(e){return Yt(e).isOpen},Zt=function(e){return Yt(e).isError},en=function(e){return Yt(e).name},tn=function(e){return Yt(e).type},nn=function(e){return Yt(e).onDelete},an=Object(he.createAction)("component/fetch/request")(),rn=Object(he.createAction)("component/fetch/success")(),on=Object(he.createAction)("component/fetch/failure")(),cn=Object(he.createAction)("component/create/request")(),ln=Object(he.createAction)("component/create/success")(),sn=Object(he.createAction)("component/create/failure")(),un=Object(he.createAction)("component/update/request")(),mn=Object(he.createAction)("component/update/success")(),dn=Object(he.createAction)("component/update/failure")(),pn=Object(he.createAction)("component/delete/request")(),fn=Object(he.createAction)("component/delete/success")(),gn=Object(he.createAction)("component/delete/failure")(),hn=function(e,t){return function(n){var a={organizationId:e,componentId:t};return n(an(a)),function(e,t){return Ee.get("/organizations/{organizationId}/components/{componentId}".replace("{organizationId}",e).replace("{componentId}",t))}(e,t).then((function(e){n(rn(e.data,a))})).catch((function(e){n(on(e,a)),Ce(e)(n)}))}},bn=function(e,t){return function(n){var a={organizationId:e};return n(cn(a)),function(e,t){return Ee.post("/organizations/{organizationId}/components".replace("{organizationId}",e),t)}(e,t).then((function(e){n(ln(e.data,a)),ye({title:"Creado satisfactoriamente",variant:"success",description:"Componente ".concat(t.name," creado")})(n)})).catch((function(e){n(sn(e,a)),Ce(e)(n)}))}},On=function(e,t){return function(n){var a={organizationId:e,componentId:t.id};return n(un(a)),function(e,t){return Ee.put("/organizations/{organizationId}/components/{componentId}".replace("{organizationId}",e).replace("{componentId}",t.id),t)}(e,t).then((function(e){n(mn(e.data,a)),ye({title:"Actualizado satisfactoriamante",description:"Componente ".concat(t.id," actualizado"),variant:"success"})(n)})).catch((function(e){n(dn(e,a)),Ce(e)(n)}))}},En=function(e,t){return function(n){var a={organizationId:e,componentId:t};return n(pn(a)),function(e,t){return Ee.delete("/organizations/{organizationId}/components/{componentId}".replace("{organizationId}",e).replace("{componentId}",t))}(e,t).then((function(e){n(fn(e.data,a)),ye({title:"Eliminado satisfactoriamente",description:"Componente ".concat(t," eliminado"),variant:"success"})(n)})).catch((function(e){n(dn(e,a)),Ce(e)(n)}))}};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cn={byId:new Map,errors:new Map,fetchStatus:new Map};var zn=function(e){return e.component},In=function(e,t){return zn(e).byId.get(t)},jn=function(e,t){return zn(e).fetchStatus.get(t)},Rn=function(e,t){return zn(e).errors.get(t)},Sn=ge((function(e,t){var n=t.match.params.organizationId;return{serverInfo:u.selectServerInfo(e),serverInfoFetchStatus:u.selectServerInfoFetchStatus(e),serverInfoError:u.selectServerInfoError(e),organizationComponents:l.selectOrganizationComponents(e,n),organizationComponentsFetchStatus:l.selectOrganizationComponentsFetchStatus(e,n),organizationComponentsError:l.selectOrganizationComponentsError(e,n)}})),Dn={fetchServerInfo:s.fetchServerInfo,fetchOrganizationComponents:c.fetchOrganizationComponents,requestDeleteComponent:p.requestDeleteComponent,showDeleteDialog:m.openModal,closeDeleteDialog:m.closeModal},An=Object(ee.connect)(Sn,Dn)(Nt),Tn=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).loadKeysAndComponents=function(){var e=n.props,t=e.fetchOrganizationKeys,a=e.fetchOrganizationComponents;n.setState({activeMap:new Map},(function(){t(n.getOrganizationId()),a(n.getOrganizationId())}))},n.getOrganizationId=function(){return n.props.match.params.organizationId},n.processKeysAndComponents=function(){var e=n.props,t=e.organizationKeys,a=e.organizationComponents;if(t&&a){for(var r={},o=0;o<t.keys.length;o++)for(var i=0;i<a.length;i++){var c=t.keys[o],l=a[i];c.providerId===l.id&&(c.provider=a[i])}for(var s in t.active)if(t.active[s])for(var u=0;u<t.keys.length;u++)t.active[s]===t.keys[u].kid&&(r[s]=t.keys[u]);var m=new Map;for(var d in r)r[d]&&m.set(d,r[d]);n.setState({activeMap:m},(function(){n.filtersInRowsAndCells()}))}},n.filtersInRowsAndCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.activeMap,t=[],a=-1;e.forEach((function(e){a++,t.push({isOpen:!1,cells:[{title:e.status},{title:e.type},{title:e.kid},{title:e.providerPriority},{title:e.provider?C.a.createElement("span",null,e.provider.name):C.a.createElement("small",null,"No provider identified")},{title:C.a.createElement(Xe,{buttonLabel:"Ver",title:"Llave p\xfablica",keyValue:e.publicKey})},{title:C.a.createElement(Xe,{buttonLabel:"Ver",title:"Certificado",keyValue:e.certificate})}]},{parent:2*a,fullWidth:!1,cells:[{title:C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{className:"pf-c-content"},C.a.createElement("dl",null,C.a.createElement("dt",null,"Llave p\xfablica"),C.a.createElement("dd",null,C.a.createElement(me.a,null,e.publicKey)),C.a.createElement("dt",null,"Certificado"),C.a.createElement("dd",null,C.a.createElement(me.a,null,e.certificate)))))}]})})),n.setState({rows:t})},n.handleOnTableCollapse=function(e,t,a){var r=n.state.rows;r[t].isOpen=a,n.setState({rows:r})},n.renderTable=function(){var e=n.state,t=e.columns,a=e.rows,r=n.props,o=r.organizationKeysError,i=r.organizationComponentsError,c=r.organizationKeysFetchStatus,l=r.organizationComponentsFetchStatus;if("complete"!==c||"complete"!==l)return C.a.createElement(We,{columns:t,rowSize:5});if(o||i){return C.a.createElement($e,{columns:t,retry:function(){n.loadKeysAndComponents()}})}return 0===a.length?C.a.createElement(Ze,{columns:t}):C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{"aria-label":"Keys List Table",cells:t,rows:a,onCollapse:n.handleOnTableCollapse},C.a.createElement(ce.a,null),C.a.createElement(le.a,null)))},n.state={activeMap:new Map,rows:[],columns:[{title:"Estatus",transforms:[],cellFormatters:[se.b]},{title:"Tipo",transforms:[]},{title:"Llave",transforms:[]},{title:"Prioridad",transforms:[]},{title:"Proveedor",transforms:[]},{title:"Llave p\xfablica",transforms:[Object(ue.a)("10")]},{title:"Certificado",transforms:[Object(ue.a)("10")]}]},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.loadKeysAndComponents()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.activeMap,a=this.props,r=a.organizationKeys,o=a.organizationComponents;r&&o&&o.length>0&&0===n.size&&this.processKeysAndComponents()}},{key:"render",value:function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ke,{activeKey:1},this.renderTable()))}}]),t}(C.a.Component),Nn=ge((function(e,t){var n=t.match.params.organizationId;return{organizationKeys:i.selectOrganizationKeys(e,n),organizationKeysFetchStatus:i.selectOrganizationKeysFetchStatus(e,n),organizationKeysError:i.selectOrganizationKeysError(e,n),organizationComponents:l.selectOrganizationComponents(e,n),organizationComponentsFetchStatus:l.selectOrganizationComponentsFetchStatus(e,n),organizationComponentsError:l.selectOrganizationComponentsError(e,n)}})),Pn={fetchOrganizationKeys:o.fetchOrganizationKeys,fetchOrganizationComponents:c.fetchOrganizationComponents},wn=Object(ee.connect)(Nn,Pn)(Tn),kn=n(42),qn=n(18),xn=n(228),Fn=n(277),Mn=n(287),Vn=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleChange=function(e){n.setState({isChecked:e}),n.props.onChange(e)},n.state={isChecked:"string"===typeof e.defaultValue?"true"===e.defaultValue:e.defaultValue},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.property,t=this.state.isChecked;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Mn.a,{id:"".concat(e.type,"-").concat(e.name),label:"Activado",labelOff:"Desactivado",isChecked:t,onChange:this.handleChange,"aria-label":"Switch property"}))}}]),t}(C.a.Component),Ln=n(349),_n=n(13),Un=n(129),Kn=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnToggle=function(e){n.setState({isExpanded:e})},n.handleOnSelect=function(e,t,a){if(a)n.clearSelection();else{var r="string"===typeof t?t:t.toString();n.setState({selected:r,isExpanded:!1}),n.props.onChange(r)}},n.clearSelection=function(){n.setState({selected:"",isExpanded:!1})},n.state={selected:e.defaultValue,isExpanded:!1},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.property,t=this.state,n=t.selected,a=t.isExpanded;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ln.a,{variant:_n.f.single,"aria-label":e.label,onToggle:this.handleOnToggle,onSelect:this.handleOnSelect,selections:n,isExpanded:a,ariaLabelledBy:e.label,direction:_n.d.up},e.options.map((function(e,t){return C.a.createElement(Un.a,{key:t,value:e})}))))}}]),t}(C.a.Component),Bn=n(291),Gn=n(292),Xn=n(272),Hn=n(207),Jn=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleChange=function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){var e=a.result;n.setState({fileData:e}),n.props.onChange(e)},a.readAsText(t)},n.state={fileData:e.defaultValue},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.property,t=this.state.fileData;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Bn.a,{gutter:"md"},C.a.createElement(Gn.a,{isFilled:!0},C.a.createElement(xn.a,{id:"".concat(e.type,"-").concat(e.name),name:e.name,type:"text","aria-label":"key input",value:t})),C.a.createElement(Gn.a,null,C.a.createElement(Xn.a,null,C.a.createElement("label",null,C.a.createElement("span",{className:"pf-c-button pf-m-secondary"},"Seleccionar archivo ",C.a.createElement(Hn.b,null),C.a.createElement("input",{type:"file",onChange:this.handleChange,style:{display:"none"}})))))))}}]),t}(C.a.Component),Wn=function(e){var t=e.provider,n=e.component,a=e.onChange,r={id:qn.string().trim().required("Este dato es requerido.").max(250,"Este campo debe de contener menos de 250 caracteres."),name:qn.string().trim().required("Este dato es requerido.").min(3,"Este campo debe de contener al menos 3 caracteres.").max(250,"Este campo debe de contener menos de 250 caracteres.")};t&&t.properties.forEach((function(e){switch(e.type){case"boolean":r[e.name]=qn.boolean().typeError("Este dato debe de ser true/false").required("Este dato es requerido.");break;default:r[e.name]=qn.string().trim().required("Este dato es requerido.")}}));var o=qn.object().shape(r),i={priority:0,active:!0,enabled:!0,keySize:2048};n&&(i.id=n.id,i.name=n.name,Object.keys(n.config).forEach((function(e){i[e]=n.config[e][0]})));var c=Object(kn.c)({mode:"onSubmit",defaultValues:i,validationSchema:o}),l=c.register,s=c.errors,u=c.triggerValidation,m=c.setValue,d=c.getValues;C.a.useEffect((function(){t&&t.properties.forEach((function(e){l({name:e.name})}))}),[l,t]);var p=function(){u().then((function(e){a(e,d())}))};return C.a.createElement(C.a.Fragment,null,C.a.createElement(Fn.a,{onSubmit:function(){},onChange:p,isHorizontal:!0},n&&C.a.createElement(de.a,{label:"Id",fieldId:"id",isValid:!s.id,helperTextInvalid:s.id&&s.id.message},C.a.createElement(xn.a,{type:"text",id:"id",name:"id","aria-describedby":"id",ref:l,isValid:!s.id,isReadOnly:!0})),C.a.createElement(de.a,{label:"Name",fieldId:"name",helperText:"Nombre",isValid:!s.name,helperTextInvalid:s.name&&s.name.message},C.a.createElement(xn.a,{type:"text",id:"name",name:"name","aria-describedby":"name",ref:l,isValid:!s.name})),t&&t.properties.map((function(e){var t=s[e.name];return C.a.createElement(de.a,{key:e.name,label:e.label,fieldId:e.name,helperText:e.helpText,isValid:!t,helperTextInvalid:t&&t.message},function(e){switch(e.type){case"String":return C.a.createElement(xn.a,{type:"text",key:e.name,id:e.name,name:e.name,"aria-describedby":e.helpText,ref:l,isValid:!s[e.name]});case"Password":return C.a.createElement(xn.a,{type:"password",key:e.name,id:e.name,name:e.name,"aria-describedby":e.helpText,ref:l,isValid:!s[e.name]});case"boolean":return C.a.createElement(Vn,{property:e,onChange:function(t){m(e.name,t)},defaultValue:i[e.name]});case"List":return C.a.createElement(Kn,{property:e,onChange:function(t){m(e.name,t),p()},defaultValue:i[e.name]});case"File":return C.a.createElement(Jn,{property:e,onChange:function(t){m(e.name,t),p()},defaultValue:i[e.name]})}}(e))}))))};function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qn=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).getRedirectTo=function(){return"/organizations/manage/".concat(n.getOrganizationId(),"/keys/providers")},n.getOrganizationId=function(){return n.props.match.params.organizationId},n.getPayload=function(){var e=n.props.component,t=n.state.formData,a=(t.id,t.name),r=Object(R.a)(t,["id","name"]),o={};return Object.keys(r).forEach((function(e){o[e]=[r[e].toString()]})),$n({},e,{name:a,config:o})},n.create=function(){var e=n.props,t=e.requestCreateComponent,a=e.provider,r=e.history,o=$n({},n.getPayload(),{providerId:a?a.id:void 0});t(n.getOrganizationId(),o).then((function(){r.push(n.getRedirectTo())}))},n.update=function(){var e=n.props,t=e.requestUpdateComponent,a=e.history,r=$n({},n.getPayload());t(n.getOrganizationId(),r).then((function(){a.push(n.getRedirectTo())}))},n.handleModalClose=function(){n.props.history.push(n.getRedirectTo())},n.handleModalSave=function(){var e=n.props.component;n.setState({saving:!0},(function(){e?n.update():n.create()}))},n.handleOnFormChange=function(e,t){e?n.setState({formData:t}):n.setState({formData:null})},n.state={saving:!1,formData:null,componentUUID:"component-uuid-key"},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.component!==this.props.component&&this.props.component&&this.setState({componentUUID:this.props.component.id+Math.random()})}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.provider,a=this.state,r=a.saving,o=a.formData,i=a.componentUUID;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ge.a,{title:(t?"Editar":"Crear")+" componente",isOpen:!0,isLarge:!0,onClose:this.handleModalClose,actions:[C.a.createElement(X.a,{key:"confirm",variant:"primary",onClick:this.handleModalSave,isDisabled:!o||r},r?"Guardando":"Guardar"),C.a.createElement(X.a,{key:"cancel",variant:"link",onClick:this.handleModalClose},"Cancelar")]},C.a.createElement(Wn,{key:i,component:t,provider:n,onChange:this.handleOnFormChange})))}}]),t}(C.a.Component),Zn=ge((function(e){return{}})),ea={requestCreateComponent:p.requestCreateComponent,requestUpdateComponent:p.requestUpdateComponent},ta=Object(S.g)(Object(ee.connect)(Zn,ea)(Qn)),na=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).getOrganizationId=function(){return n.props.match.params.organizationId},n.getProviderId=function(){return n.props.match.params.providerId},n.getComponentId=function(){return n.props.match.params.componentId},n.getProvider=function(){var e=n.props.serverInfo;if(e)for(var t=n.getProviderId(),a=e.componentTypes.keyProviders,r=0;r<a.length;r++){var o=a[r];if(o.id===t)return o}},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchComponent;(0,e.fetchServerInfo)();var n=this.getOrganizationId(),a=this.getComponentId();n&&a&&t(n,a)}},{key:"render",value:function(){var e=this.props.component,t=this.getProvider();return C.a.createElement(C.a.Fragment,null,C.a.createElement(ta,{component:e,provider:t}))}}]),t}(C.a.Component),aa=ge((function(e,t){var n=t.match.params.componentId;return{component:f.selectComponent(e,n),componentFetchStatus:f.selectComponentFetchStatus(e,n),componentError:f.selectComponentError(e,n),serverInfo:u.selectServerInfo(e),serverInfoFetchStatus:u.selectServerInfoFetchStatus(e),serverInfoError:u.selectServerInfoError(e)}})),ra={fetchComponent:p.fetchComponent,fetchServerInfo:s.fetchServerInfo},oa=Object(ee.connect)(aa,ra)(na),ia=function(e){var t=e.match,n=e.contextOrganizations,a=e.selectOrganizationContext,r=t.params.organizationId;if(t.params.organizationId){var o=n.find((function(e){return e.id===r}));o&&a(o)}return C.a.createElement(C.a.Fragment,null,C.a.createElement(S.d,null,C.a.createElement(S.b,{path:t.path,component:jt,exact:!0}),C.a.createElement(S.b,{path:"".concat(t.path,"/list"),component:wn,exact:!1}),C.a.createElement(S.b,{path:"".concat(t.path,"/providers"),component:An,exact:!0}),C.a.createElement(S.b,{path:"".concat(t.path,"/providers/:providerId"),component:oa,exact:!0}),C.a.createElement(S.b,{path:"".concat(t.path,"/providers/:providerId/:componentId"),component:oa,exact:!0})))},ca=ge((function(e){return{contextOrganizations:r.organizations(e)}})),la={selectOrganizationContext:a.selectOrganizationContext},sa=Object(ee.connect)(ca,la)(ia),ua=n(30),ma=n.n(ua),da=n(49),pa=n(348),fa=function(e){var t=e.handleOnSubmit,n=qn.object().shape({filterText:qn.string().trim().max(250,"Este campo debe de contener menos de 250 caracteres.")}),a=Object(kn.c)({validationSchema:n}),r=a.register,o=a.errors,i=a.handleSubmit;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Fn.a,{onSubmit:i(t)},C.a.createElement(Xn.a,null,C.a.createElement(xn.a,{type:"search",placeholder:"Filtrar por nombre...",id:"filterText",name:"filterText","aria-describedby":"Filter text",ref:r,isValid:!o.filterText}),C.a.createElement(X.a,{type:"submit",variant:X.c.tertiary,"aria-label":"search button for search input"},C.a.createElement(Qe.b,null)))))},ga=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).refreshData=Object(da.a)(ma.a.mark((function e(){var t,a,r,o,i=arguments;return ma.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:n.state.page,a=i.length>1&&void 0!==i[1]?i[1]:n.state.pageSize,r=i.length>2&&void 0!==i[2]?i[2]:n.state.filterText,o=n.props.fetchOrganizations,e.next=6,o(r,t,a);case 6:n.filtersInRowsAndCells();case 7:case"end":return e.stop()}}),e)}))),n.filtersInRowsAndCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.organizations,t=e.items.map((function(e){return{cells:[{title:C.a.createElement(j.b,{to:"/organizations/manage/".concat(e.id,"/keys")},e.name)},{title:e.description?C.a.createElement("span",null,e.description):C.a.createElement("small",null,"No description")},{title:e.type}]}}));n.setState({rows:t})},n.handleEditar=function(e,t){var a=n.props,r=a.history,o=a.organizations;r.push("/organizations/edit/"+o.items[t].id)},n.handleEliminar=function(e,t){var a=n.props,r=a.showDeleteDialog,o=a.closeDeleteDialog,i=a.deleteOrganization,c=n.props.organizations.items[t];r({name:c.name,type:"organizaci\xf3n",onDelete:function(){i(c.id).then((function(){o()}))},onCancel:function(){o()}})},n.handleSearchSubmit=function(e){var t=n.state.pageSize,a=e.filterText.trim();n.setState({filterText:a},(function(){n.refreshData(1,t,a)}))},n.onPageChange=function(e,t){n.setState({page:t},(function(){n.refreshData(t)}))},n.handleOnSetPage=function(e,t){return n.onPageChange(e,t)},n.handleOnPageInput=function(e,t){return n.onPageChange(e,t)},n.handleOnPerPageSelect=function(e,t){var a=n.state.page,r=n.props.organizations.totalSize;a*t>r&&(a=Math.floor(r/t)+1),n.setState({page:a,pageSize:t},(function(){n.refreshData(a,t)}))},n.renderSearchBox=function(){return C.a.createElement(fa,{handleOnSubmit:n.handleSearchSubmit})},n.renderPagination=function(e){var t=n.state,a=t.page,r=t.pageSize,o=n.props.organizations;return C.a.createElement(pa.a,{itemCount:o.totalSize,page:a,perPage:r,onPageInput:n.handleOnPageInput,onSetPage:n.handleOnSetPage,widgetId:"pagination-options-menu-top",onPerPageSelect:n.handleOnPerPageSelect,isCompact:e})},n.renderTable=function(){var e=n.props,t=e.error,a=e.fetchStatus,r=n.state,o=r.columns,i=r.rows,c=r.actions,l=r.pageSize;if("complete"!==a)return C.a.createElement(We,{columns:o,rowSize:l});if(t){return C.a.createElement($e,{columns:o,retry:function(){n.refreshData()}})}return 0===i.length?C.a.createElement(Ze,{columns:o}):C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{"aria-label":"Organization List Table",cells:o,rows:i,actions:c},C.a.createElement(ce.a,null),C.a.createElement(le.a,null),i.length>0&&C.a.createElement("tfoot",null,C.a.createElement("tr",null,C.a.createElement("td",{colSpan:10},n.renderPagination(!1))))))},n.state={filterText:"",page:1,pageSize:10,rows:[],columns:[{title:"Nombre",transforms:[Object(ue.a)("30")]},{title:"Descripcion",transforms:[]},{title:"Tipo",transforms:[Object(ue.a)("10")]}],actions:[{title:"Editar",onClick:n.handleEditar},{title:"Eliminar",onClick:n.handleEliminar}]},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.refreshData()}},{key:"render",value:function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,{variant:D.c.light},C.a.createElement(F.a,null,C.a.createElement(M.a,{component:"h1"},"Organizaciones"),C.a.createElement(M.a,{component:"small"},"Ac\xe1 podr\xe1s administrar las organizaciones del sistema."))),C.a.createElement(D.a,null,C.a.createElement(_.a,null,C.a.createElement(Rt.a,null,C.a.createElement(St.a,{className:"pf-l-toolbar pf-u-justify-content-space-between pf-u-mx-xl pf-u-my-md"},C.a.createElement(Dt.a,null,C.a.createElement(At.a,{className:"pf-u-mr-xl"},this.renderSearchBox()),C.a.createElement(At.a,null,C.a.createElement(j.b,{to:"/organizations/create"},C.a.createElement(X.a,{"aria-label":"Crear organizaci\xf3n"},"Crear organizaci\xf3n")))),C.a.createElement(Dt.a,null,C.a.createElement(At.a,null,this.renderPagination(!0)))))),this.renderTable()))}}]),t}(C.a.Component),ha=Object(he.createAsyncAction)("organizationList/fetch/request","organizationList/fetch/success","organizationList/fetch/failure")(),ba=ha.request,Oa=ha.success,Ea=ha.failure,va=function(e,t,n){return function(a){return a(ba()),function(e,t,n){var a={filterText:e,page:t-1,pageSize:n},r=[];return Object.keys(a).forEach((function(e){var t=a[e];void 0!==t&&r.push("".concat(e,"=").concat(t))})),Ee.get("".concat("/organizations/search","?").concat(r.join("&")))}(e,t,n).then((function(e){a(Oa(e.data))})).catch((function(e){a(Ea(e)),Ce(e)(a)}))}};function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var za={organizations:{items:[],totalSize:0},error:null,status:"none"};var Ia=function(e){return e.organizationList},ja=function(e){return Ia(e).organizations},Ra=function(e){return Ia(e).status},Sa=function(e){return Ia(e).error},Da=Object(he.createAction)("organization/fetch/request")(),Aa=Object(he.createAction)("organization/fetch/success")(),Ta=Object(he.createAction)("organization/fetch/failure")(),Na=Object(he.createAction)("organization/create/request")(),Pa=Object(he.createAction)("organization/create/success")(),wa=Object(he.createAction)("organization/create/failure")(),ka=Object(he.createAction)("organization/update/request")(),qa=Object(he.createAction)("organization/update/success")(),xa=Object(he.createAction)("organization/update/failure")(),Fa=Object(he.createAction)("organization/delete/request")(),Ma=Object(he.createAction)("organization/delete/success")(),Va=Object(he.createAction)("organization/delete/failure")(),La=Object(he.createAction)("organization/fetchIdByName/request")(),_a=Object(he.createAction)("organization/fetchIdByName/success")(),Ua=Object(he.createAction)("organization/fetchIdByName/failure")(),Ka=function(e){return function(t){var n={organizationId:e};return t(Da(n)),function(e){return Ee.get("".concat("/organizations","/").concat(e))}(e).then((function(e){t(Aa(e.data,n))})).catch((function(e){t(Ta(e,n)),Ce(e)(t)}))}},Ba=function(e){return function(t){return t(Na()),function(e){return Ee.post("/organizations",e)}(e).then((function(n){t(Pa(n.data)),Se()(t),ye({title:"Creado satisfactoriamente",description:"Organizaci\xf3n ".concat(e.name," creada"),variant:"success"})(t)})).catch((function(e){t(wa(e)),Ce(e)(t)}))}},Ga=function(e,t){return function(n){var a={organizationId:e};return n(ka(a)),function(e,t){return Ee.put("".concat("/organizations","/").concat(e),t)}(e,t).then((function(e){n(qa(e.data,a)),Se()(n),ye({title:"Actualizado satisfactoriamente",description:"Organizaci\xf3n ".concat(t.name," actualizada"),variant:"success"})(n)})).catch((function(e){n(xa(e,a)),Ce(e)(n)}))}},Xa=function(e){return function(t){var n={organizationId:e};return t(Fa(n)),function(e){return Ee.delete("".concat("/organizations","/").concat(e))}(e).then((function(a){t(Ma(a.data,n)),Se()(t),ye({title:"Eliminado satisfactoriamente",description:"Organizaci\xf3n ".concat(e," eliminada"),variant:"success"})(t)})).catch((function(e){t(Va(e,n)),Ce(e)(t)}))}},Ha=function(e){return function(t){var n,a={organizationName:e};return t(La(a)),(n=e,Ee.get("/organizations/id-by-name/"+encodeURIComponent(n))).then((function(e){var n=e.data;return t(_a(n,a)),n})).catch((function(e){t(Ua(e,a))}))}};function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ya={byId:new Map,errors:new Map,fetchStatus:new Map};var $a=function(e){return e.organization},Qa=function(e,t){return $a(e).byId.get(t)},Za=function(e,t){return $a(e).fetchStatus.get(t)},er=function(e,t){return $a(e).errors.get(t)},tr=ge((function(e){return{organizations:h.organizations(e),error:h.error(e),fetchStatus:h.status(e)}})),nr={fetchOrganizations:g.fetchOrganizations,deleteOrganization:b.deleteOrganization,showDeleteDialog:m.openModal,closeDeleteDialog:m.closeModal},ar=Object(ee.connect)(tr,nr)(ga),rr=function(e){var t=e.organization,n=e.onChange,a=e.fetchOrganizationIdByName,r=qn.object().shape({name:qn.string().trim().required("Este dato es obligatorio.").min(3,"El nombre de la organizaci\xf3n debe de contener al menos 3 caracteres.").max(250,"El nombre de la organizaci\xf3n debe de contener menos de 250 caracteres.").test("availableOrganizationName","El nombre de la organizaci\xf3n ingresada ya est\xe1 en uso.",function(){var e=Object(da.a)(ma.a.mark((function e(n){return ma.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n).then((function(e){return!e||t&&e===t.id}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),description:qn.string().nullable().trim().max(250,"La descripci\xf3n de la organizaci\xf3n debe de contener menos de 250 caracteres.")}),o=Object(kn.c)({mode:"onSubmit",defaultValues:t?{name:t.name,description:t.description}:void 0,validationSchema:r}),i=o.register,c=o.errors,l=o.getValues,s=o.triggerValidation;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Fn.a,{onSubmit:function(){},onChange:function(){s().then((function(e){n(e,l())}))}},C.a.createElement(de.a,{label:"Nombre",isRequired:!0,fieldId:"name",helperText:"Nombre de la organizaci\xf3n",isValid:!c.name,helperTextInvalid:c.name&&c.name.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",ref:i,isValid:!c.name})),C.a.createElement(de.a,{label:"Descripci\xf3n",fieldId:"description",isValid:!c.description,helperTextInvalid:c.description&&c.description.message},C.a.createElement("textarea",{className:"pf-c-form-control","aria-invalid":"false",id:"description",name:"description",placeholder:"Breve descripci\xf3n de la organizaci\xf3n.",ref:i}))))},or=ge((function(e){return{}})),ir={fetchOrganizationIdByName:b.fetchOrganizationIdByName},cr=Object(ee.connect)(or,ir)(rr),lr=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleModalSave=function(){var e=n.state.organizationFormData,t=n.props.organizationId;e&&n.setState({saving:!0},(function(){if(t){var a=n.props,r=a.updateOrganization,o=a.history,i={name:e.name,description:e.description,type:"",useMasterKeys:!1};r(t,i).then((function(){o.push("/organizations/list")}))}else{var c=n.props,l=c.createOrganization,s=c.history;l({name:e.name,description:e.description,type:"",useMasterKeys:!1}).then((function(){s.push("/organizations/list")}))}}))},n.handleModalClose=function(){n.props.history.push("/organizations/list")},n.handleOnFormChange=function(e,t){e?n.setState({organizationFormData:t}):n.setState({organizationFormData:null})},n.state={saving:!1,organizationFormData:null,organizationUUID:"organization-key-uuid"},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organizationId,n=e.fetchOrganization;t&&n(t)}},{key:"componentDidUpdate",value:function(e,t){e.organization!==this.props.organization&&this.props.organization&&this.setState({organizationUUID:this.props.organization.id+Math.random()})}},{key:"render",value:function(){var e=this.state,t=e.saving,n=e.organizationFormData,a=e.organizationUUID,r=this.props,o=r.organizationId,i=r.organization;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Ge.a,{title:(o?"Editar":"Crear")+" organizaci\xf3n",isOpen:!0,isSmall:!0,onClose:this.handleModalClose,actions:[C.a.createElement(X.a,{key:"confirm",variant:"primary",onClick:this.handleModalSave,isDisabled:!n||t},t?"Guardando":"Guardar"),C.a.createElement(X.a,{key:"cancel",variant:"link",onClick:this.handleModalClose},"Cancelar")]},C.a.createElement(cr,{key:a,organization:i,onChange:this.handleOnFormChange})))}}]),t}(C.a.Component),sr=ge((function(e,t){return{organization:O.selectOrganization(e,t.organizationId),error:O.selectOrganizationError(e,t.organizationId),status:O.selectOrganizationFetchStatus(e,t.organizationId)}})),ur={fetchOrganization:b.fetchOrganization,createOrganization:b.requestCreateOrganization,updateOrganization:b.requestUpdateOrganization},mr=Object(S.g)(Object(ee.connect)(sr,ur)(lr)),dr=function(e){function t(){return Object(te.a)(this,t),Object(ae.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.match;return C.a.createElement(C.a.Fragment,null,C.a.createElement(mr,{organizationId:e.params.organizationId}))}}]),t}(C.a.Component),pr=function(e){var t=e["content-disposition"],n="";if(t&&-1!==t.indexOf("attachment")){var a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);null!=a&&a[1]&&(n=a[1].replace(/['"]/g,""))}return n},fr=n(203),gr=n(239),hr=n.n(gr),br=n(360),Or=n.n(br),Er=(n(342),n(343),function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnDownloadXml=function(){var e=n.props,t=e.xml,a=e.xmlFilename,r=window.URL.createObjectURL(new Blob([t])),o=document.createElement("a");o.href=r,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()},n.handleOnTabClick=function(e,t){n.setState({activeTab:t})},n.state={activeTab:0},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.inputDocument,n=e.enrichedData,a=e.xml,r=this.state.activeTab;return C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(B.a,{gutter:"sm"},t&&C.a.createElement(G.a,null,C.a.createElement(St.a,null,C.a.createElement(Dt.a,null,C.a.createElement(At.a,null,C.a.createElement(X.a,{variant:"plain",onClick:this.handleOnDownloadXml},C.a.createElement(fr.b,null)," Descargar XML"))))),C.a.createElement(G.a,null,C.a.createElement(pe.a,{isFilled:!0,activeKey:r,onSelect:this.handleOnTabClick},C.a.createElement(fe.a,{eventKey:0,title:"JSON Request"},C.a.createElement(hr.a,{src:t||{},name:!1})),C.a.createElement(fe.a,{eventKey:1,title:"JSON Response"},C.a.createElement(hr.a,{src:n,name:!1})),C.a.createElement(fe.a,{eventKey:2,title:"XML Response"},C.a.createElement(Or.a,{mode:"xml",theme:"xcode",onChange:function(){},name:"xml",editorProps:{$blockScrolling:!1},readOnly:!0,value:a||"",width:"100"})))))))}}]),t}(C.a.Component)),vr=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).refresh=function(){n.enrichDocument(),n.createDocument()},n.enrichDocument=function(){var e=n.props,t=e.requestEnrichDocument,a=e.inputDocument;t(e.documentType,a).then((function(e){n.setState({enrichedData:e})}))},n.createDocument=function(){var e=n.props,t=e.requestCreateDocument,a=e.inputDocument;t(e.documentType,a).then((function(e){if(e){var t=pr(e.headers);n.setState({xml:e.data,xmlFilename:t})}}))},n.state={xml:null,xmlFilename:"",enrichedData:{}},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.inputDocument&&this.props.inputDocument!==e.inputDocument&&this.refresh()}},{key:"render",value:function(){var e=this;console.log("renderrrrrrrrr");var t=this.props,n=t.children,a=t.inputDocument,r=this.state,o=r.xml,i=r.xmlFilename,c=r.enrichedData;return C.a.createElement(C.a.Fragment,null,C.a.createElement("button",{type:"button",onClick:function(){e.refresh()}},"carlos3333"),C.a.createElement(V.a,{lg:2,gutter:"sm"},C.a.createElement(L.a,{span:8},C.a.createElement(Gn.a,null,C.a.createElement(_.a,null,C.a.createElement(Rt.a,null,"Datos del comprobante de pago"),C.a.createElement(U.a,null,n)))),C.a.createElement(L.a,{span:4},C.a.createElement(Gn.a,null,C.a.createElement(Er,{inputDocument:a,xml:o,xmlFilename:i,enrichedData:c})))))}}]),t}(C.a.Component),yr=Object(he.createAction)("document/enrich/request")(),Cr=Object(he.createAction)("document/enrich/success")(),zr=Object(he.createAction)("document/enrich/failure")(),Ir=Object(he.createAction)("document/create/request")(),jr=Object(he.createAction)("document/create/success")(),Rr=Object(he.createAction)("document/create/failure")(),Sr=function(e,t){return function(n){return n(yr()),function(e,t){return Ee.post("/documents/{documentType}/enrich".replace("{documentType}",e),t)}(e,t).then((function(e){return n(Cr(e.data)),e.data})).catch((function(e){n(zr(e)),Ce(e)(n)}))}},Dr=function(e,t){return function(n){return n(Ir()),function(e,t){return Ee.post("/documents/{documentType}/create".replace("{documentType}",e),t)}(e,t).then((function(e){return n(jr(e.data)),e})).catch((function(e){n(Rr(e)),Ce(e)(n)}))}},Ar=ge((function(e){return{}})),Tr={requestEnrichDocument:E.requestEnrichDocument,requestCreateDocument:E.requestCreateDocument},Nr=Object(S.g)(Object(ee.connect)(Ar,Tr)(vr)),Pr=function(){return!1},wr=function(e){var t=e.match,n=e.history,a=e.activeKey,r=e.children,o=Pr();return C.a.createElement(C.a.Fragment,null,C.a.createElement(D.a,{variant:D.c.light},o&&C.a.createElement("div",{style:{marginBottom:20}},C.a.createElement("div",{className:"pf-c-form pf-m-horizontal"},C.a.createElement(de.a,{label:"Organizaci\xf3n",fieldId:"organizacion"},C.a.createElement(_e,{onSelect:function(e){n.push("/organizations/documents/".concat(e.id,"/create"))}})))),C.a.createElement(F.a,null,C.a.createElement(M.a,{component:"h1"},"Comprobantes electr\xf3nicos"),C.a.createElement(M.a,{component:"small"},"Ac\xe1 podras simular la creaci\xf3n de comprobantes electr\xf3nicos.")),C.a.createElement("br",null),C.a.createElement(pe.a,{isFilled:!0,activeKey:a,onSelect:function(e,a){var r=t.params.organizationId,o="/organizations/documents/".concat(r,"/create");0===a?n.push(o+"/"):1===a&&n.push(o+"/baja")}},C.a.createElement(fe.a,{eventKey:0,title:"Documentos b\xe1sicos (boleta, factura, nota cr\xe9dito/d\xe9bito)"}),C.a.createElement(fe.a,{eventKey:1,title:"Baja"}))),C.a.createElement(D.a,null,r))},kr=Object(S.g)(wr),qr=n(280),xr=n(230),Fr=n(279),Mr=new Map([["","Seleccione"],["FACTURA","FACTURA"],["BOLETA","BOLETA"],["NOTA_CREDITO","NOTA DE CR\xc9DITO"],["NOTA_DEBITO","NOTA DE D\xc9BITO"]]),Vr=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnChange=function(e){n.setState({selected:e}),n.props.onChange&&n.props.onChange(e)},n.state={selected:e.value?e.value:""},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state.selected;return C.a.createElement(C.a.Fragment,null,C.a.createElement(xr.a,{value:t,onChange:this.handleOnChange,isValid:!e,"aria-label":"Tipo comprobante Select"},Array.from(Mr.keys()).map((function(e,t){var n=Mr.get(e)||"Invalid key";return C.a.createElement(Fr.a,{key:t,value:e,label:n})}))))}}]),t}(C.a.Component),Lr=n(146),_r=n(202),Ur=n(208),Kr=new Map([["","Seleccione"],["DOC_TRIB_NO_DOM_SIN_RUC","DOC. TRIB. NO DOM. SIN RUC"],["DNI","DNI"],["EXTRANJERIA","EXTRANJERIA"],["RUC","RUC"],["PASAPORTE","PASAPORTE"],["DEC_DIPLOMATICA","DEC_DIPLOMATICA"]]),Br=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnChange=function(e){n.setState({selected:e}),n.props.onChange&&n.props.onChange(e)},n.state={selected:e.value?e.value:""},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state.selected;return C.a.createElement(C.a.Fragment,null,C.a.createElement(xr.a,{value:t,onChange:this.handleOnChange,isValid:!e,"aria-label":"Tipo comprobante Select"},Array.from(Kr.keys()).map((function(e,t){var n=Kr.get(e)||"Invalid key";return C.a.createElement(Fr.a,{key:t,value:e,label:n})}))))}}]),t}(C.a.Component),Gr=new Map([["","Seleccione"],["GRAVADO_OPERACION_ONEROSA","GRA. OPERACION ONEROSA"],["GRAVADO_RETIRO_POR_PREMIO","GRA. RETIRO POR PREMIO"],["GRAVADO_RETIRO_POR_DONACION","GRA. RETIRO POR DONACI\xd3N"],["GRAVADO_RETIRO","GRA. RETIRO"],["GRAVADO_RETIRO_POR_PUBLICIDAD","GRA. RETIRO POR PUBLICIDAD"],["GRAVADO_BONIFICACIONES","GRA. BONIFICACIONES"],["GRAVADO_RETIRO_POR_ENTREGA_A_TRABAJADORES","GRA. RETIRO POR ENTREGA A TRAB."],["GRAVADO_IVAP","GRA. IVAP"],["EXONERADO_OPERACION_ONEROSA","EXO. OPERACI\xd3N ONEROSA"],["EXONERADO_TRANSFERENCIA_GRATUITA","EXO. TRANSFERENCIA GRATUITA"],["INAFECTO_OPERACION_ONEROSA","INA. OPERACI\xd3N ONEROSA"],["INAFECTO_RETIRO_POR_BONIFICACION","INA. RETIRO POR BONIFICACI\xd3N"],["INAFECTO_RETIRO","INA. RETIRO"],["INAFECTO_RETIRO_POR_MUESTRAS_MEDICAS","INA. RETIRO POR MUESTRAS M\xc9DICAS"],["INAFECTO_RETIRO_POR_CONVENIO_COLECTIVO","INA. RETIRO POR CONVENIO COLECTIVO"],["INAFECTO_RETIRO_POR_PREMIO","INA. RETIRO POR PREMIO"],["INAFECTO_RETIRO_POR_PUBLICIDAD","INA. RETIRO POR PUBLICIDAD"],["EXPORTACION","EXPORTACION"]]),Xr=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnChange=function(e){n.setState({selected:e}),n.props.onChange&&n.props.onChange(e)},n.state={selected:e.value?e.value:""},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state.selected;return C.a.createElement(C.a.Fragment,null,C.a.createElement(xr.a,{value:t,onChange:this.handleOnChange,isValid:!e,"aria-label":"Tipo IGV Select"},Array.from(Gr.keys()).map((function(e,t){var n=Gr.get(e)||"Invalid key";return C.a.createElement(Fr.a,{key:t,value:e,label:n})}))))}}]),t}(C.a.Component),Hr=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnChange=function(e){console.log(e),n.setState({isChecked:e}),n.props.onChange&&n.props.onChange(e)},n.state={isChecked:!!e.value&&e.value},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.labelOn,n=e.labelOff,a=this.state.isChecked;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Mn.a,{id:"switchController",label:t,labelOff:n,isChecked:a,onChange:this.handleOnChange}))}}]),t}(C.a.Component),Jr=new Map([["","Seleccione"],["ANULACION_DE_LA_OPERACION","ANULACI\xd3N DE LA OPERACI\xd3N"],["ANULACION_POR_ERROR_EN_EL_RUC","ANULACI\xd3N POR ERROR EN RUC"],["CORRECCION_POR_ERROR_EN_LA_DESCRIPCION","CORRECCION POR ERROR EN DESCRIPCION"],["DESCUENTO_GLOBAL","DESCUENTO GLOBAL"],["DESCUENTO_POR_ITEM","DESCUENTO POR ITEM"],["DEVOLUCION_TOTAL","DEVOLUCI\xd3N TOTAL"],["DEVOLUCION_POR_ITEM","DEVOLUCION POR ITEM"],["BONIFICACION","BONIFICACI\xd3N"],["DISMINUCION_EN_EL_VALOR","DISMINUCI\xd3N EN EL VALOR"],["OTROS_CONCEPTOS","OTROS CONCEPTOS"]]),Wr=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnChange=function(e){n.setState({selected:e}),n.props.onChange&&n.props.onChange(e)},n.state={selected:e.value?e.value:""},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state.selected;return C.a.createElement(C.a.Fragment,null,C.a.createElement(xr.a,{value:t,onChange:this.handleOnChange,isValid:!e,"aria-label":"Tipo comprobante Select"},Array.from(Jr.keys()).map((function(e,t){var n=Jr.get(e)||"Invalid key";return C.a.createElement(Fr.a,{key:t,value:e,label:n})}))))}}]),t}(C.a.Component),Yr=new Map([["","Seleccione"],["INTERES_POR_MORA","INTERES POR MORA"],["AUMENTO_EN_EL_VALOR","AUMENTO EN EL VALOR"],["PENALIDAD_OTROS_CONCEPTOR","PENALIDAD OTROS CONCEPTOR"]]),$r=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleOnChange=function(e){n.setState({selected:e}),n.props.onChange&&n.props.onChange(e)},n.state={selected:e.value?e.value:""},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.error,t=this.state.selected;return C.a.createElement(C.a.Fragment,null,C.a.createElement(xr.a,{value:t,onChange:this.handleOnChange,isValid:!e,"aria-label":"Tipo comprobante Select"},Array.from(Yr.keys()).map((function(e,t){var n=Yr.get(e)||"Invalid key";return C.a.createElement(Fr.a,{key:t,value:e,label:n})}))))}}]),t}(C.a.Component);function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(n,!0).forEach((function(t){Object(De.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eo=function(e){var t=e.onSubmit,n=Object(y.useState)([!1]),a=Object(Be.a)(n,2),r=a[0],o=a[1],i=qn.object().shape({tipoComprobante:qn.string().trim().required("Este dato es requerido.").transform((function(e){return"FACTURA"===e||"BOLETA"===e?"invoice":"NOTA_CREDITO"===e?"credit-note":"NOTA_DEBITO"===e?"debit-note":e})),serie:qn.string().trim().required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),numero:qn.number().typeError("N\xfamero inv\xe1lido").required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 2 caracteres."),fechaEmision:qn.date().nullable().transform((function(e){return isNaN(e)?void 0:e})),totalDescuentos:qn.number().nullable().min(0,"El valor minimo es 0.").transform((function(e){return isNaN(e)?void 0:e})),totalOtrosCargos:qn.number().nullable().min(0,"El valor minimo es 0.").transform((function(e){return isNaN(e)?void 0:e})),proveedorRuc:qn.string().trim("Dato inv\xe1lido").required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),proveedorNombreComercial:qn.string().trim().required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),proveedorCodigoPostal:qn.string().trim().required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),clienteTipoDocumento:qn.string().trim("Dato inv\xe1lido").required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),clienteNumeroDocumento:qn.string().trim("Dato inv\xe1lido").required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),clienteNombre:qn.string().trim("Dato inv\xe1lido").required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),firmanteRuc:qn.string().nullable().trim(),firmanteRazonSocial:qn.string().nullable().trim(),detalle:qn.array().of(qn.object().shape({cantidad:qn.number().required("Este dato es requerido.").min(0,"Este campo debe de ser mayor a 0."),descripcion:qn.string().trim().required("Este dato es requerido.").min(1,"Este campo debe de tener al menos 1 caracter."),precioUnitario:qn.number().required("Este dato es requerido.").min(0,"Este campo debe de ser mayor a 0."),tipoIgv:qn.string().nullable(),unidadMedida:qn.string().trim().nullable(),icb:qn.boolean().nullable()})).required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 elemento.")}),c={cantidad:1,descripcion:"Nombre de producto o servicio",precioUnitario:1,tipoIgv:void 0,unidadMedida:void 0,icb:void 0},l={tipoComprobante:"FACTURA",serie:"F001",numero:1,fechaEmision:void 0,proveedorRuc:"12345678912",proveedorNombreComercial:"Project OpenUBL",proveedorCodigoPostal:"050101",clienteTipoDocumento:"RUC",clienteNumeroDocumento:"12312312312",clienteNombre:"Nombre de mi cliente",detalle:[Zr({},c)]},s=Object(kn.c)({mode:"onSubmit",validationSchema:i,defaultValues:l}),u=s.register,m=s.errors,d=s.control,p=s.handleSubmit,f=s.watch,g=Object(kn.b)({control:d,name:"detalle"}),h=g.fields,b=g.append,O=g.remove,E=f("tipoComprobante"),v=[{title:"Cantidad",transforms:[Object(ue.a)("10")]},{title:"Descripcion",transforms:[Object(ue.a)("50")]},{title:"Precio Unitario",transforms:[Object(ue.a)("10")]},{title:"",transforms:[Object(ue.a)("10")]}],z=h.reduce((function(e,t,n){var a=m.detalle?m.detalle:[],o=a[n]?a[n]:{};return e.push({isOpen:void 0!==r[2*n]&&r[2*n],cells:[{title:C.a.createElement(xn.a,{name:"detalle[".concat(n,"].cantidad"),defaultValue:t.cantidad,type:"number","aria-label":"Cantidad",ref:u,isValid:!o.cantidad})},{title:C.a.createElement(xn.a,{name:"detalle[".concat(n,"].descripcion"),defaultValue:t.descripcion,type:"text","aria-label":"Descripcion",ref:u,isValid:!o.descripcion})},{title:C.a.createElement(xn.a,{name:"detalle[".concat(n,"].precioUnitario"),defaultValue:t.precioUnitario,type:"number","aria-label":"Precio unitario",placeholder:"Descripci\xf3n del producto o servicio",ref:u,isValid:!o.precioUnitario})},{title:C.a.createElement(X.a,{variant:"plain","aria-label":"Action",onClick:function(){O(n)}},C.a.createElement(Lr.b,null))}]},{parent:2*n,fullWidth:!1,cells:[{title:C.a.createElement("div",{className:"pf-c-form pf-m-horizontal",style:{marginTop:10,marginBottom:10}},C.a.createElement(de.a,{isRequired:!1,label:"Tipo IGV",fieldId:"tipoIgv",isValid:!o.tipoIgv,helperTextInvalid:o.tipoIgv&&o.tipoIgv.message},C.a.createElement(kn.a,{as:C.a.createElement(Xr,{error:o.tipoIgv}),name:"detalle[".concat(n,"].tipoIgv"),control:d})),C.a.createElement(de.a,{isRequired:!1,label:"Unidad medida",fieldId:"unidadMedida",isValid:!o.unidadMedida,helperTextInvalid:o.unidadMedida&&o.unidadMedida.message},C.a.createElement(xn.a,{name:"detalle[".concat(n,"].unidadMedida"),defaultValue:t.unidadMedida,type:"text","aria-label":"unidadMedida",ref:u,isValid:!o.unidadMedida})),C.a.createElement(de.a,{isRequired:!1,label:"ICB",fieldId:"icb",isValid:!o.icb,helperTextInvalid:o.icb&&o.icb.message},C.a.createElement(kn.a,{as:C.a.createElement(Hr,{error:o.icb,labelOn:"Activado",labelOff:"desactivado"}),name:"detalle[".concat(n,"].icb"),control:d})))}]}),e}),[]),I="NOTA_CREDITO"===E,j="NOTA_DEBITO"===E,R=I||j;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Fn.a,{onSubmit:p((function(e){t(e)}))},C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Tipo comprobante",fieldId:"tipoComprobante",isValid:!m.tipoComprobante,helperTextInvalid:m.tipoComprobante&&m.tipoComprobante.message},C.a.createElement(kn.a,{as:C.a.createElement(Vr,{error:m.tipoComprobante}),name:"tipoComprobante",control:d}))),C.a.createElement(L.a,null,R&&C.a.createElement(de.a,{isRequired:!1,label:"Tipo nota",fieldId:"tipoNota",isValid:!m.tipoNota,helperTextInvalid:m.tipoNota&&m.tipoNota.message},I&&C.a.createElement(kn.a,{as:C.a.createElement(Wr,{error:m.tipoNota}),name:"tipoNota",control:d}),j&&C.a.createElement(kn.a,{as:C.a.createElement($r,{error:m.tipoNota}),name:"tipoNota",control:d}))),C.a.createElement(L.a,null,R&&C.a.createElement(de.a,{isRequired:!0,label:"Comprobante afectado",fieldId:"comprobanteAfectado",isValid:!m.comprobanteAfectado,helperTextInvalid:m.comprobanteAfectado&&m.comprobanteAfectado.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"comprobanteAfectado",name:"comprobanteAfectado","aria-describedby":"comprobanteAfectado",ref:u,isValid:!m.comprobanteAfectado,defaultValue:"F001-100"}))),C.a.createElement(L.a,null,R&&C.a.createElement(de.a,{isRequired:!0,label:"Comprobante afectado sustento",fieldId:"comprobanteAfectado",isValid:!m.comprobanteAfectadoSustento,helperTextInvalid:m.comprobanteAfectadoSustento&&m.comprobanteAfectadoSustento.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"comprobanteAfectadoSustento",name:"comprobanteAfectadoSustento","aria-describedby":"comprobanteAfectadoSustento",ref:u,isValid:!m.comprobanteAfectadoSustento,defaultValue:"Sustento de la nota"})))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Serie",fieldId:"serie",isValid:!m.serie,helperTextInvalid:m.serie&&m.serie.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"serie",name:"serie","aria-describedby":"serie",ref:u,isValid:!m.serie}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"N\xfamero",fieldId:"numero",isValid:!m.numero,helperTextInvalid:m.numero&&m.numero.message},C.a.createElement(xn.a,{isRequired:!0,type:"number",id:"numero",name:"numero","aria-describedby":"numero",ref:u,isValid:!m.numero}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!1,label:"Fecha Emisi\xf3n",fieldId:"fechaEmision",isValid:!m.fechaEmision,helperTextInvalid:m.fechaEmision&&m.fechaEmision.message},C.a.createElement(Xn.a,null,C.a.createElement(qr.a,{component:"label",htmlFor:"fechaEmision"},C.a.createElement(_r.b,null)),C.a.createElement(xn.a,{isRequired:!1,type:"date",id:"fechaEmision",name:"fechaEmision","aria-describedby":"fechaEmision",ref:u,isValid:!m.fechaEmision}))))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Proveedor RUC",fieldId:"proveedorRuc",isValid:!m.proveedorRuc,helperTextInvalid:m.proveedorRuc&&m.proveedorRuc.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"proveedorRuc",name:"proveedorRuc","aria-describedby":"proveedorRuc",ref:u,isValid:!m.proveedorRuc}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Nombre comercial",fieldId:"proveedorNombreComercial",isValid:!m.proveedorNombreComercial,helperTextInvalid:m.proveedorNombreComercial&&m.proveedorNombreComercial.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"proveedorNombreComercial",name:"proveedorNombreComercial","aria-describedby":"proveedorNombreComercial",ref:u,isValid:!m.proveedorNombreComercial}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"C\xf3digo postal",fieldId:"proveedorCodigoPostal",isValid:!m.proveedorCodigoPostal,helperTextInvalid:m.proveedorCodigoPostal&&m.proveedorCodigoPostal.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"proveedorCodigoPostal",name:"proveedorCodigoPostal","aria-describedby":"proveedorCodigoPostal",ref:u,isValid:!m.proveedorCodigoPostal})))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Cliente tipo documento",fieldId:"clienteTipoDocumento",isValid:!m.clienteTipoDocumento,helperTextInvalid:m.clienteTipoDocumento&&m.clienteTipoDocumento.message},C.a.createElement(kn.a,{as:C.a.createElement(Br,{error:m.clienteTipoDocumento}),name:"clienteTipoDocumento",control:d}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"N\xfamero documento",fieldId:"clienteNumeroDocumento",isValid:!m.clienteNumeroDocumento,helperTextInvalid:m.clienteNumeroDocumento&&m.clienteNumeroDocumento.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"clienteNumeroDocumento",name:"clienteNumeroDocumento","aria-describedby":"clienteNumeroDocumento",ref:u,isValid:!m.clienteNumeroDocumento}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Nombre/raz\xf3n social",fieldId:"clienteNombre",isValid:!m.clienteNombre,helperTextInvalid:m.clienteNombre&&m.clienteNombre.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"clienteNombre",name:"clienteNombre","aria-describedby":"clienteNombre",ref:u,isValid:!m.clienteNombre})))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!1,label:"Firmante RUC",fieldId:"firmanteRuc",isValid:!m.firmanteRuc,helperTextInvalid:m.firmanteRuc&&m.firmanteRuc.message},C.a.createElement(xn.a,{isRequired:!1,type:"text",id:"firmanteRuc",name:"firmanteRuc","aria-describedby":"firmanteRuc",ref:u,isValid:!m.firmanteRuc}))),C.a.createElement(L.a,{span:6},C.a.createElement(de.a,{isRequired:!1,label:"Firmante Raz\xf3n Social",fieldId:"firmanteRazonSocial",isValid:!m.firmanteRazonSocial,helperTextInvalid:m.firmanteRazonSocial&&m.firmanteRazonSocial.message},C.a.createElement(xn.a,{isRequired:!1,type:"text",id:"firmanteRazonSocial",name:"firmanteRazonSocial","aria-describedby":"firmanteRazonSocial",ref:u,isValid:!m.firmanteRazonSocial})))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,{span:9},C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(ie.a,{"aria-label":"Document Line Table",cells:v,rows:z,onCollapse:function(e,t,n){var a=Object(He.a)(r);a[t]=n,o(a)},caption:"Productos o servicios vendidos"},C.a.createElement(ce.a,null),C.a.createElement(le.a,null),C.a.createElement("tfoot",null,C.a.createElement("tr",null,C.a.createElement("td",{colSpan:5},C.a.createElement(X.a,{variant:"tertiary",onClick:function(){b(Zr({},c))}},C.a.createElement(Ur.b,null)," Agregar item")))))))),C.a.createElement(L.a,null,C.a.createElement(_.a,null,C.a.createElement(U.a,null,C.a.createElement(B.a,{gutter:"sm"},C.a.createElement(G.a,null,C.a.createElement(de.a,{isRequired:!1,label:"Total Descuentos",fieldId:"totalDescuentos",isValid:!m.totalDescuentos,helperTextInvalid:m.totalDescuentos&&m.totalDescuentos.message},C.a.createElement(xn.a,{isRequired:!0,type:"number",id:"totalDescuentos",name:"totalDescuentos","aria-describedby":"totalDescuentos",ref:u,isValid:!m.totalDescuentos}))),C.a.createElement(G.a,null,C.a.createElement(de.a,{isRequired:!1,label:"Total Otros cargos",fieldId:"totalOtrosCargos",isValid:!m.totalOtrosCargos,helperTextInvalid:m.totalOtrosCargos&&m.totalOtrosCargos.message},C.a.createElement(xn.a,{isRequired:!0,type:"number",id:"totalOtrosCargos",name:"totalOtrosCargos","aria-describedby":"totalOtrosCargos",ref:u,isValid:!m.totalOtrosCargos})))))))),C.a.createElement(X.a,{type:"submit"},"Guardar")))},to=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).refresh=function(){n.enrichDocument(),n.createDocument()},n.getOrganizationId=function(){return n.props.match.params.organizationId},n.createDocument=function(){var e=n.props,t=e.requestCreateOrganizationDocument,a=e.inputDocument,r=e.documentType;t(n.getOrganizationId(),r,a).then((function(e){if(e){var t=pr(e.headers);n.setState({xml:e.data,xmlFilename:t})}}))},n.enrichDocument=function(){var e=n.props,t=e.requestEnrichOrganizationDocument,a=e.inputDocument,r=e.documentType;t(n.getOrganizationId(),r,a).then((function(e){n.setState({enrichedData:e})}))},n.state={xml:null,xmlFilename:"",enrichedData:{},activeTab:0},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.inputDocument&&this.props.inputDocument!==e.inputDocument&&this.refresh()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.inputDocument,a=this.state,r=a.xml,o=a.xmlFilename,i=a.enrichedData;return C.a.createElement(V.a,{lg:2,gutter:"sm"},C.a.createElement(L.a,{span:8},C.a.createElement(Gn.a,null,C.a.createElement(_.a,null,C.a.createElement(Rt.a,null,"Datos del comprobante de pago"),C.a.createElement(U.a,null,t)))),C.a.createElement(L.a,{span:4},C.a.createElement(Gn.a,null,C.a.createElement(Er,{inputDocument:n,xml:r,xmlFilename:o,enrichedData:i}))))}}]),t}(C.a.Component),no=Object(he.createAction)("organization/document/enrich/request")(),ao=Object(he.createAction)("organization/document/enrich/success")(),ro=Object(he.createAction)("organization/document/enrich/failure")(),oo=Object(he.createAction)("organization/document/create/request")(),io=Object(he.createAction)("organization/document/create/success")(),co=Object(he.createAction)("organization/document/create/failure")(),lo=function(e,t,n){return function(a){var r={organizationId:e};return a(no(r)),function(e,t,n){return Ee.post("/organizations/{organizationId}/documents/{documentType}/enrich".replace("{organizationId}",e).replace("{documentType}",t),n)}(e,t,n).then((function(e){return a(ao(e.data,r)),e.data})).catch((function(e){a(ro(e,r)),Ce(e)(a)}))}},so=function(e,t,n){return function(a){var r={organizationId:e};return a(oo(r)),function(e,t,n){return Ee.post("/organizations/{organizationId}/documents/{documentType}/create".replace("{organizationId}",e).replace("{documentType}",t),n)}(e,t,n).then((function(e){return a(io(e.data,r)),e})).catch((function(e){a(co(e,r)),Ce(e)(a)}))}},uo=ge((function(e){return{}})),mo={requestEnrichOrganizationDocument:v.requestEnrichOrganizationDocument,requestCreateOrganizationDocument:v.requestCreateOrganizationDocument},po=Object(S.g)(Object(ee.connect)(uo,mo)(to)),fo=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).processFormAndGetInputDocument=function(e){var t={serie:e.serie,numero:e.numero,fechaEmision:e.fechaEmision?e.fechaEmision.getTime():void 0,totalDescuentos:e.totalDescuentos,totalOtrosCargos:e.totalOtrosCargos,proveedor:{ruc:e.proveedorRuc,razonSocial:e.proveedorNombreComercial,codigoPostal:e.proveedorCodigoPostal},cliente:{tipoDocumentoIdentidad:e.clienteTipoDocumento,numeroDocumentoIdentidad:e.clienteNumeroDocumento,nombre:e.clienteNombre},firmante:e.firmanteRuc&&e.firmanteRazonSocial?{ruc:e.firmanteRuc,razonSocial:e.firmanteRazonSocial}:void 0,detalle:e.detalle.map((function(e){return{descripcion:e.descripcion,precioUnitario:e.precioUnitario,cantidad:e.cantidad,unidadMedida:e.unidadMedida?e.unidadMedida:void 0,tipoIGV:e.tipoIgv,icb:e.icb}}))};return e.comprobanteAfectado&&(t.serieNumeroInvoiceReference=e.comprobanteAfectado),e.comprobanteAfectadoSustento&&(t.descripcionSustentoInvoiceReference=e.comprobanteAfectadoSustento),e.tipoNota&&(t.tipoNota=e.tipoNota),t},n.onSubmit=function(e){n.setState({form:e,documentType:e.tipoComprobante})},n.state={form:null,documentType:"invoice"},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.state,t=e.documentType,n=e.form,a=null;n&&(a=this.processFormAndGetInputDocument(n));var r=C.a.createElement(eo,{onSubmit:this.onSubmit});return C.a.createElement(C.a.Fragment,null,C.a.createElement(kr,{activeKey:0},Pr()?C.a.createElement(po,{documentType:t,inputDocument:a},r):C.a.createElement(Nr,{documentType:t,inputDocument:a},r)))}}]),t}(C.a.Component),go=ge((function(e){return{}})),ho=Object(ee.connect)(go,{})(fo),bo=function(e){var t=e.onSubmit,n=qn.object().shape({numero:qn.number().required("Este dato es requerido.").min(1,"Valor minimo es 1"),fechaEmision:qn.date().nullable().transform((function(e){return isNaN(e)?void 0:e})),tipoDocumentReference:qn.string().trim().required(),serieNumeroDocumentReference:qn.string().trim().required(),fechaEmisionDocumentReference:qn.date().required().transform((function(e){return isNaN(e)?void 0:e})),motivoBajaDocumentReference:qn.string().trim().required(),proveedorRuc:qn.string().trim("Dato inv\xe1lido").required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),proveedorNombreComercial:qn.string().trim().required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),proveedorCodigoPostal:qn.string().trim().required("Este dato es requerido.").min(1,"Este campo debe de contener al menos 1 caracteres."),firmanteRuc:qn.string().nullable().trim(),firmanteRazonSocial:qn.string().nullable().trim()}),a=(new Date).toISOString(),r={numero:1,fechaEmision:void 0,proveedorRuc:"12345678912",proveedorNombreComercial:"Project OpenUBL",proveedorCodigoPostal:"050101",tipoDocumentReference:"FACTURA",serieNumeroDocumentReference:"F001-1",fechaEmisionDocumentReference:a=a.substring(0,a.indexOf("T")),motivoBajaDocumentReference:"El motivo de baja del comprobante"},o=Object(kn.c)({mode:"onSubmit",validationSchema:n,defaultValues:r}),i=o.register,c=o.errors,l=o.control,s=o.handleSubmit;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Fn.a,{onSubmit:s((function(e){t(e)}))},C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"N\xfamero",fieldId:"numero",isValid:!c.numero,helperTextInvalid:c.numero&&c.numero.message},C.a.createElement(xn.a,{isRequired:!0,type:"number",id:"numero",name:"numero","aria-describedby":"numero",ref:i,isValid:!c.numero}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!1,label:"Fecha Emisi\xf3n",fieldId:"fechaEmision",isValid:!c.fechaEmision,helperTextInvalid:c.fechaEmision&&c.fechaEmision.message},C.a.createElement(Xn.a,null,C.a.createElement(qr.a,{component:"label",htmlFor:"fechaEmision"},C.a.createElement(_r.b,null)),C.a.createElement(xn.a,{isRequired:!1,type:"date",id:"fechaEmision",name:"fechaEmision","aria-describedby":"fechaEmision",ref:i,isValid:!c.fechaEmision}))))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Proveedor RUC",fieldId:"proveedorRuc",isValid:!c.proveedorRuc,helperTextInvalid:c.proveedorRuc&&c.proveedorRuc.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"proveedorRuc",name:"proveedorRuc","aria-describedby":"proveedorRuc",ref:i,isValid:!c.proveedorRuc}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Nombre comercial",fieldId:"proveedorNombreComercial",isValid:!c.proveedorNombreComercial,helperTextInvalid:c.proveedorNombreComercial&&c.proveedorNombreComercial.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"proveedorNombreComercial",name:"proveedorNombreComercial","aria-describedby":"proveedorNombreComercial",ref:i,isValid:!c.proveedorNombreComercial}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"C\xf3digo postal",fieldId:"proveedorCodigoPostal",isValid:!c.proveedorCodigoPostal,helperTextInvalid:c.proveedorCodigoPostal&&c.proveedorCodigoPostal.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"proveedorCodigoPostal",name:"proveedorCodigoPostal","aria-describedby":"proveedorCodigoPostal",ref:i,isValid:!c.proveedorCodigoPostal})))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!1,label:"Firmante RUC",fieldId:"firmanteRuc",isValid:!c.firmanteRuc,helperTextInvalid:c.firmanteRuc&&c.firmanteRuc.message},C.a.createElement(xn.a,{isRequired:!1,type:"text",id:"firmanteRuc",name:"firmanteRuc","aria-describedby":"firmanteRuc",ref:i,isValid:!c.firmanteRuc}))),C.a.createElement(L.a,{span:6},C.a.createElement(de.a,{isRequired:!1,label:"Firmante Raz\xf3n Social",fieldId:"firmanteRazonSocial",isValid:!c.firmanteRazonSocial,helperTextInvalid:c.firmanteRazonSocial&&c.firmanteRazonSocial.message},C.a.createElement(xn.a,{isRequired:!1,type:"text",id:"firmanteRazonSocial",name:"firmanteRazonSocial","aria-describedby":"firmanteRazonSocial",ref:i,isValid:!c.firmanteRazonSocial})))),C.a.createElement(V.a,{md:6,lg:3,gutter:"sm"},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Tipo documento baja ",fieldId:"tipoDocumentReference",isValid:!c.tipoDocumentReference,helperTextInvalid:c.tipoDocumentReference&&c.tipoDocumentReference.message},C.a.createElement(kn.a,{as:C.a.createElement(Vr,{error:c.tipoDocumentReference}),name:"tipoDocumentReference",control:l}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Serie y n\xfamero documento baja",fieldId:"serieNumeroDocumentReference",isValid:!c.serieNumeroDocumentReference,helperTextInvalid:c.serieNumeroDocumentReference&&c.serieNumeroDocumentReference.message},C.a.createElement(xn.a,{isRequired:!0,type:"text",id:"serieNumeroDocumentReference",name:"serieNumeroDocumentReference","aria-describedby":"serieNumeroDocumentReference",ref:i,isValid:!c.serieNumeroDocumentReference}))),C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Fecha emisi\xf3n documento baja",fieldId:"fechaEmisionDocumentReference",isValid:!c.fechaEmisionDocumentReference,helperTextInvalid:c.fechaEmisionDocumentReference&&c.fechaEmisionDocumentReference.message},C.a.createElement(Xn.a,null,C.a.createElement(qr.a,{component:"label",htmlFor:"fechaEmisionDocumentReference"},C.a.createElement(_r.b,null)),C.a.createElement(xn.a,{isRequired:!1,type:"date",id:"fechaEmisionDocumentReference",name:"fechaEmisionDocumentReference","aria-describedby":"fechaEmisionDocumentReference",ref:i,isValid:!c.fechaEmisionDocumentReference}))))),C.a.createElement(V.a,{lg:12},C.a.createElement(L.a,null,C.a.createElement(de.a,{isRequired:!0,label:"Sustento de la baja del documento",fieldId:"motivoBajaDocumentReference",isValid:!c.motivoBajaDocumentReference,helperTextInvalid:c.motivoBajaDocumentReference&&c.motivoBajaDocumentReference.message},C.a.createElement("textarea",{className:"pf-c-form-control",id:"motivoBajaDocumentReference",name:"motivoBajaDocumentReference",placeholder:"Sustento.",ref:i})))),C.a.createElement(X.a,{type:"submit"},"Guardar")))},Oo=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).processFormAndGetInputDocument=function(e){return{numero:e.numero,fechaEmision:e.fechaEmision?e.fechaEmision.getTime():void 0,proveedor:{ruc:e.proveedorRuc,razonSocial:e.proveedorNombreComercial,codigoPostal:e.proveedorCodigoPostal},firmante:e.firmanteRuc&&e.firmanteRazonSocial?{ruc:e.firmanteRuc,razonSocial:e.firmanteRazonSocial}:void 0,tipoDocumentReference:e.tipoDocumentReference,fechaEmisionDocumentReference:e.fechaEmisionDocumentReference?e.fechaEmisionDocumentReference.getTime():void 0,serieNumeroDocumentReference:e.serieNumeroDocumentReference,motivoBajaDocumentReference:e.motivoBajaDocumentReference}},n.onSubmit=function(e){n.setState({form:e})},n.state={form:null},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.state.form,t=null;return e&&(t=this.processFormAndGetInputDocument(e)),C.a.createElement(C.a.Fragment,null,C.a.createElement(kr,{activeKey:1},C.a.createElement(Nr,{documentType:"voided-document",inputDocument:t},C.a.createElement(bo,{onSubmit:this.onSubmit}))))}}]),t}(C.a.Component),Eo=ge((function(e){return{}})),vo=Object(ee.connect)(Eo,{})(Oo),yo=function(e){var t=e.match,n=e.contextOrganizations,a=e.selectOrganizationContext,r=t.params.organizationId;if(t.params.organizationId){var o=n.find((function(e){return e.id===r}));o&&a(o)}return C.a.createElement(C.a.Fragment,null,C.a.createElement(S.d,null,C.a.createElement(S.b,{path:"".concat(t.path),component:ho,exact:!0}),C.a.createElement(S.b,{path:"".concat(t.path,"/baja"),component:vo,exact:!0})))},Co=ge((function(e){return{contextOrganizations:r.organizations(e)||[]}})),zo={selectOrganizationContext:a.selectOrganizationContext},Io=Object(ee.connect)(Co,zo)(yo),jo=function(e){var t=e.component,n=e.forSignerMode,a=Object(R.a)(e,["component","forSignerMode"]);return Pr()===n?C.a.createElement(S.b,Object.assign({},a,{component:t})):null},Ro=function(){return C.a.createElement(S.d,null,C.a.createElement(S.b,{path:"/home",component:Z}),C.a.createElement(jo,{path:"/documents/create",component:Io,exact:!0,forSignerMode:!1}),C.a.createElement(jo,{path:"/organizations/list",component:ar,forSignerMode:!0}),C.a.createElement(jo,{path:"/organizations/create",component:dr,forSignerMode:!0}),C.a.createElement(jo,{path:"/organizations/edit/:organizationId",component:dr,forSignerMode:!0}),C.a.createElement(jo,{path:"/organizations/manage/:organizationId/keys",component:sa,forSignerMode:!0}),C.a.createElement(jo,{path:"/organizations/documents/:organizationId/create",component:Io,forSignerMode:!0}),C.a.createElement(S.b,{path:"/error/403",component:k}),C.a.createElement(S.b,{path:"/error/404",component:q}),C.a.createElement(S.b,{path:"/error/503",component:x}),C.a.createElement(S.b,{path:"/",render:function(){return C.a.createElement(S.a,{to:"/home"})}}))},So=(n(597),n(598),n(346)),Do=n(289),Ao=n(290),To=n(284),No=n(270),Po=n(75),wo=n(282),ko=n(283),qo=n(285),xo=n(286),Fo=n(115),Mo=n(10),Vo=n(76),Lo=n.n(Vo),_o=n(206),Uo=n(204),Ko=n(361),Bo=n.n(Ko),Go=n(362),Xo=n.n(Go),Ho=function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleModalToggle=function(){n.setState((function(e){return{isAboutModalOpen:!e.isAboutModalOpen}}))},n.renderHeader=function(){var e=n.state.isAboutModalOpen,t=C.a.createElement(So.a,{isOpen:e,onClose:n.handleModalToggle,trademark:"COPYRIGHT \xa9 2020. PROJECT OPENUBL",brandImageSrc:Xo.a,brandImageAlt:"Patternfly Logo",productName:"Project OpenUBL - XML Builder"},C.a.createElement(F.a,null,C.a.createElement(Do.a,{component:"dl"},C.a.createElement(Ao.a,{component:"dt"},"Version"),C.a.createElement(Ao.a,{component:"dd"},"1.0.0.Final"),C.a.createElement(Ao.a,{component:"dt"},"Source code"),C.a.createElement(Ao.a,{component:"dd"},C.a.createElement("a",{href:"https://github.com/project-openubl/xml-builder",target:"_blank",rel:"noopener noreferrer"},"Github")),C.a.createElement(Ao.a,{component:"dt"},"Report issues"),C.a.createElement(Ao.a,{component:"dd"},C.a.createElement("a",{href:"https://github.com/project-openubl/xml-builder/issues",target:"_blank",rel:"noopener noreferrer"},"Github issues")),C.a.createElement(Ao.a,{component:"dt"},"Documentation"),C.a.createElement(Ao.a,{component:"dd"},C.a.createElement("a",{href:"https://project-openubl.gitbook.io/xml-builder/",target:"_blank",rel:"noopener noreferrer"},"Gitbook")),C.a.createElement(Ao.a,{component:"dt"},"Videos"),C.a.createElement(Ao.a,{component:"dd"},C.a.createElement("a",{href:"https://www.youtube.com/channel/UChq3xxjyDgjcU346rp0bbtA/",target:"_blank",rel:"noopener noreferrer"},"Youtube")),C.a.createElement(Ao.a,{component:"dt"},"Rest API documentation"),C.a.createElement(Ao.a,{component:"dd"},C.a.createElement("a",{href:"https://app.swaggerhub.com/organizations/project-openubl",target:"_blank",rel:"noopener noreferrer"},"Swaggerhub")),C.a.createElement(Ao.a,{component:"dt"},"Licence"),C.a.createElement(Ao.a,{component:"dd"},C.a.createElement("a",{href:"https://github.com/project-openubl/xml-builder/blob/master/LICENSE",target:"_blank",rel:"noopener noreferrer"},"Eclipse Public License - v 2.0"))))),a=C.a.createElement(C.a.Fragment,null,C.a.createElement(St.a,null,C.a.createElement(Dt.a,{className:Object(Mo.b)(Lo.a.screenReader,Lo.a.visibleOnLg)},C.a.createElement(At.a,null,C.a.createElement(X.a,{id:"simple-example-uid-01","aria-label":"Notifications actions",variant:X.c.plain,onClick:n.handleModalToggle},C.a.createElement(_o.b,null))))),t);return C.a.createElement(To.a,{logo:C.a.createElement(C.a.Fragment,null,C.a.createElement(No.a,{src:Bo.a,alt:"Project OpenUBL"})),toolbar:a,showNavToggle:!0})},n.renderSidebar=function(){var e,t=n.props,a=t.contextOrganizations,r=t.selectedContextOrganization,o=Pr();if(o)if(r)e=r;else{if(!(a.length>0))throw new Error("No context organization found");e=a[0]}var i=C.a.createElement(Po.a,{id:"nav-primary-simple","aria-label":"Nav",theme:"dark"},C.a.createElement(wo.a,{title:""},C.a.createElement(ko.a,null,C.a.createElement(j.c,{to:"/home",activeClassName:"pf-m-current"},C.a.createElement(Uo.b,null),"\xa0Home"))),C.a.createElement(wo.a,{title:"Consola administraci\xf3n"},o&&C.a.createElement(ko.a,{key:"organizations"},C.a.createElement(j.c,{to:"/organizations/list",activeClassName:"pf-m-current"},"Organizaciones")),o&&e&&C.a.createElement(ko.a,{key:"keys"},C.a.createElement(j.c,{to:"/organizations/manage/".concat(e.id,"/keys"),activeClassName:"pf-m-current"},"Certificados digitales")),o&&e&&C.a.createElement(ko.a,{key:"documents"},C.a.createElement(j.c,{to:"/organizations/documents/".concat(e.id,"/create"),activeClassName:"pf-m-current"},"Comprobantes electr\xf3nicos")),!o&&C.a.createElement(ko.a,{key:"documents"},C.a.createElement(j.c,{to:"/documents/create",activeClassName:"pf-m-current"},"Comprobantes electr\xf3nicos"))));return C.a.createElement(qo.a,{nav:i,theme:"dark"})},n.renderPageSkipToContent=function(){return C.a.createElement(xo.a,{href:"#primary-app-container"},"Skip to Content")},n.state={isAboutModalOpen:!1},n}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.children;return C.a.createElement(C.a.Fragment,null,C.a.createElement(Fo.a,{header:this.renderHeader(),sidebar:this.renderSidebar(),isManagedSidebar:!0,skipToContent:this.renderPageSkipToContent()},e))}}]),t}(C.a.Component),Jo=ge((function(e){return{contextOrganizations:r.organizations(e)||[],selectedContextOrganization:r.selectedOrganization(e)||null}})),Wo=Object(ee.connect)(Jo,{})(Ho),Yo=(n(599),function(e){function t(){return Object(te.a)(this,t),Object(ae.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.name,a=e.onDelete,r=e.onCancel,o=e.isOpen,i=e.isProcessing,c=e.isError;return C.a.createElement(Ge.a,{isSmall:!0,title:"Delete ".concat(n,"?"),onClose:function(){r()},isOpen:o,actions:[C.a.createElement(X.a,{key:"confirm",isDisabled:i,variant:X.c.danger,onClick:a},"Delete ","".concat(t)),C.a.createElement(X.a,{key:"cancel",isDisabled:i,variant:X.c.link,onClick:function(){r()}},"Cancel")]},c?"Ops! There was a problem while deleting the ".concat(t,"."):"\xbfEstas seguro de querer eliminar este ".concat(t,"? Esta acci\xf3n eliminar\xe1 todos los datos asociados a esta ").concat(t," permanentemente."))}}]),t}(C.a.Component)),$o=Object(ee.connect)(ge((function(e){return{onDelete:d.onDelete(e),isOpen:d.isOpen(e),isProcessing:d.isProcessing(e),isError:d.isError(e),name:d.name(e),type:d.type(e)}})),{onCancel:m.closeModal})(Yo),Qo=function(e){function t(){return Object(te.a)(this,t),Object(ae.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.whenSignerComponent,a=e.elseComponent,r=Object(R.a)(e,["children","whenSignerComponent","elseComponent"]);return Pr()?C.a.createElement(n,r,t):a?C.a.createElement(a,null,t):C.a.createElement(C.a.Fragment,null,t)}}]),t}(C.a.Component),Zo=function(e){function t(){return Object(te.a)(this,t),Object(ae.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchOrganizations)()}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.children;switch(t){case"complete":return C.a.createElement(C.a.Fragment,null,n);default:return C.a.createElement(C.a.Fragment,null,C.a.createElement(A.a,null,"Loading..."))}}}]),t}(C.a.Component),ei=ge((function(e){return{organizations:r.organizations(e)||[],error:r.error(e),status:r.status(e)}})),ti={fetchOrganizations:a.fetchOrganizations},ni=Object(ee.connect)(ei,ti)(Zo),ai=(n(600),n(183)),ri=function(){var e=ai.NotificationsPortal;return C.a.createElement(C.a.Fragment,null,C.a.createElement(j.a,null,C.a.createElement(Qo,{whenSignerComponent:ni},C.a.createElement(Wo,null,C.a.createElement(Ro,null),C.a.createElement($o,null),C.a.createElement(e,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oi,ii=n(85),ci=n(363),li=n(364),si=n.n(li),ui=n(365),mi=n(183),di=Object(ii.combineReducers)((oi={notifications:mi.notifications},Object(De.a)(oi,"deleteDialog",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(Kt):return Jt({},e,{},t.payload,{isOpen:!0});case Object(he.getType)(Gt):return Jt({},e,{isProcessing:!0});case Object(he.getType)(Bt):return Wt;case Object(he.getType)(Xt):return Jt({},e,{isError:!0});default:return e}})),Object(De.a)(oi,"organizationList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(ba):return Ca({},e,{status:"inProgress"});case Object(he.getType)(Oa):return Ca({},e,{status:"complete",error:null,organizations:t.payload});case Object(he.getType)(Ea):return Ca({},e,{status:"complete",error:t.payload});default:return e}})),Object(De.a)(oi,"organizationContext",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(ze):return Te({},e,{status:"inProgress"});case Object(he.getType)(Ie):return Te({},e,{status:"complete",error:null,organizations:t.payload});case Object(he.getType)(je):return Te({},e,{status:"complete",error:t.payload});case Object(he.getType)(Re):return Te({},e,{selected:t.payload});default:return e}})),Object(De.a)(oi,"organization",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(Da):return Wa({},e,{fetchStatus:new Map(e.fetchStatus).set(t.payload.organizationId,"inProgress")});case Object(he.getType)(Aa):return Wa({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.organizationId,"complete"),byId:new Map(e.byId).set(t.meta.organizationId,Wa({},t.payload)),errors:new Map(e.errors).set(t.meta.organizationId,void 0)});case Object(he.getType)(Ta):return Wa({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.organizationId,"complete"),errors:new Map(e.errors).set(t.meta.organizationId,t.payload)});default:return e}})),Object(De.a)(oi,"organizationKeys",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(tt):return it({},e,{fetchStatus:new Map(e.fetchStatus).set(t.payload.organizationId,"inProgress")});case Object(he.getType)(nt):return it({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.organizationId,"complete"),byOrganizationId:new Map(e.byOrganizationId).set(t.meta.organizationId,it({},t.payload)),errors:new Map(e.errors).set(t.meta.organizationId,void 0)});case Object(he.getType)(at):return it({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.organizationId,"complete"),errors:new Map(e.errors).set(t.meta.organizationId,t.payload)});default:return e}})),Object(De.a)(oi,"organizationComponents",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(dt):return bt({},e,{fetchStatus:new Map(e.fetchStatus).set(t.payload.organizationId,"inProgress")});case Object(he.getType)(pt):return bt({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.organizationId,"complete"),byOrganizationId:new Map(e.byOrganizationId).set(t.meta.organizationId,Object(He.a)(t.payload)),errors:new Map(e.errors).set(t.meta.organizationId,void 0)});case Object(he.getType)(ft):return bt({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.organizationId,"complete"),errors:new Map(e.errors).set(t.meta.organizationId,t.payload)});default:return e}})),Object(De.a)(oi,"component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(an):return yn({},e,{fetchStatus:new Map(e.fetchStatus).set(t.payload.componentId,"inProgress")});case Object(he.getType)(rn):return yn({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.componentId,"complete"),byId:new Map(e.byId).set(t.meta.componentId,yn({},t.payload)),errors:new Map(e.errors).set(t.meta.componentId,void 0)});case Object(he.getType)(on):return yn({},e,{fetchStatus:new Map(e.fetchStatus).set(t.meta.componentId,"complete"),errors:new Map(e.errors).set(t.meta.componentId,t.payload)});default:return e}})),Object(De.a)(oi,"serverInfo",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(he.getType)(Pt):return Ft({},e,{status:"inProgress"});case Object(he.getType)(wt):return Ft({},e,{status:"complete",error:void 0,serverInfo:t.payload});case Object(he.getType)(kt):return Ft({},e,{status:"complete",error:t.payload});default:return e}})),oi));Oe.a.defaults.baseURL="".concat("/api"),I.a.render(C.a.createElement(ee.Provider,{store:Object(ii.createStore)(di,Object(ui.composeWithDevTools)(Object(ii.applyMiddleware)(si.a,ci.a)))},C.a.createElement(ri,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[374,1,2]]]);
//# sourceMappingURL=main.7b9b8b7d.chunk.js.map